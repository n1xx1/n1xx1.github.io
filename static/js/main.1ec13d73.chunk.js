(this["webpackJsonpyugioh-arena-draft"]=this["webpackJsonpyugioh-arena-draft"]||[]).push([[0],{27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(1),r=n.n(i),o=n(16),c=n.n(o),s=(n(27),n(14)),l=n(7),u=n(20),d=n(6),b=n(11),m=n.n(b),f=n(13),p=n(10),h=["Breakers of Shadow","Wing Raiders","Shining Victories","The Dark Illusion","Invasion: Vengeance","Destiny Soldiers","Raging Tempest","Fusion Enforcers","Maximum Crisis","Pendulum Evolution","Code of the Duelist","Spirit Warriors","Circuit Break","Extreme Force","Flames of Destruction","Dark Saviors","Cybernetic Horizon","Shadows in Valhalla","Soul Fusion","Hidden Summoners","Savage Strike","The Infinity Chasers","Duel Power","Dark Neostorm","Rising Rampage","Fists of the Gadgets","Chaos Impact","Mystic Fighters","Ignition Assault","Duel Overload","Secret Slayers","Eternity Code","Toon Chaos","Rise of the Duelist","Phantom Rage","Genesis Impact"],j=["The Legend of Blue Eyes White Dragon","Metal Raiders","Magic Ruler","Pharaoh's Servant","Labyrinth of Nightmare","Legacy of Darkness","Pharaonic Guardian","Magician's Force","Dark Crisis","Invasion of Chaos","Ancient Sanctuary","Soul of the Duelist","Rise of Destiny","Flaming Eternity","The Lost Millennium","Cybernetic Revolution","Elemental Energy","Shadow of Infinity","Enemy of Justice","Power of the Duelist","Cyberdark Impact","Strike of Neos","Force of the Breaker","Tactical Evolution","Gladiator's Assault","Phantom Darkness","Light of Destruction","The Duelist Genesis","Crossroads of Chaos","Crimson Crisis","Raging Battle","Ancient Prophecy","Stardust Overdrive","Absolute Powerforce","The Shining Darkness","Duelist Revolution","Starstrike Blast","Storm of Ragnarok","Extreme Victory","Generation Force","Photon Shockwave","Order of Chaos","Galactic Overlord","Return of the Duelist","Abyss Rising","Cosmo Blazer","Lord of the Tachyon Galaxy","Judgment of the Light","Shadow Specters","Legacy of the Valiant","Primal Origin","Duelist Alliance","The New Challengers","Secrets of Eternity","Crossed Souls","Clash of Rebellions","Dimension of Chaos","The Secret Forces","High-Speed Riders"],g=["2014 Mega-Tin Mega Pack","2015 Mega-Tin Mega Pack","2016 Mega-Tin Mega Pack","2017 Mega-Tin Mega Pack","2018 Mega-Tin Mega Pack","2019 Gold Sarcophagus Tin Mega Pack","2020 Tin of Lost Memories Mega Pack","Ra Yellow Mega Pack","Legendary Collection 2","Legendary Collection 3: Yugi's World","Legendary Collection 4: Joey's World","Legendary Collection 5D's","Legendary Collection Kaiba"],x=["Battle Pack: Epic Dawn","Battle Pack 2: War of the Giants","Battle Pack 3: Monster League"],O={Common:{name:"Common",abbr:"N"},"Short Print":{name:"Short Print",abbr:"NR"},Rare:{name:"Rare",abbr:"R"},"Gold rare":{name:"Gold rare",abbr:"GUR"},"Ghost/Gold rare":{name:"Ghost/Gold rare",abbr:"GGR"},"Super Rare":{name:"Super Rare",abbr:"SR"},"Ultra Rare":{name:"Ultra Rare",abbr:"UR"},"Secret Rare":{name:"Secret Rare",abbr:"ScR"},"Prismatic Secret Rare":{name:"Prismatic Secret Rare",abbr:"PScR"},"Ultimate Rare":{name:"Ultimate Rare",abbr:"UtR"},"Collector's Rare":{name:"Collector's Rare",abbr:"CR"},"Starlight Rare":{name:"Starlight Rare",abbr:"StR"},"10000 Secret Rare":{name:"10000 Secret Rare",abbr:"10000ScR"}},y=["Fusion Monster","Link Monster","Pendulum Effect Fusion Monster","Synchro Monster","Synchro Pendulum Effect Monster","Synchro Tuner Monster","XYZ Monster","XYZ Pendulum Effect Monster"],v={"Effect Monster":2,"Flip Effect Monster":2,"Flip Tuner Effect Monster":2,"Gemini Monster":2,"Normal Monster":1,"Normal Tuner Monster":1,"Pendulum Effect Monster":2,"Pendulum Flip Effect Monster":2,"Pendulum Normal Monster":1,"Pendulum Tuner Effect Monster":2,"Ritual Effect Monster":2,"Ritual Monster":2,"Skill Card":5,"Spell Card":3,"Spirit Monster":2,"Toon Monster":2,"Trap Card":4,"Tuner Monster":2,"Union Effect Monster":2,"Fusion Monster":10,"Link Monster":13,"Pendulum Effect Fusion Monster":10,"Synchro Monster":11,"Synchro Pendulum Effect Monster":11,"Synchro Tuner Monster":11,"XYZ Monster":12,"XYZ Pendulum Effect Monster":12},w=n(12),k=n.n(w);function C(e){return"https://n1xx1-cors-everywhere.herokuapp.com/".concat(e)}function S(e){return M.apply(this,arguments)}function M(){return(M=Object(f.a)(m.a.mark((function e(t){var n,a,i,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://db.ygoprodeck.com/queries/pack-opener/pack-open.php",n=encodeURIComponent(t.name),a="".concat("https://db.ygoprodeck.com/queries/pack-opener/pack-open.php","?format=").concat(n,"&settype=").concat(t.type),e.next=5,fetch(C(a));case 5:return i=e.sent,e.next=8,i.json();case 8:return r=e.sent[0],o=r.map((function(e){var t,n;return{id:e.id,name:e.name,extra:y.includes(e.type),type:e.type,rarity:null!==(t=null===(n=O[e.rarity])||void 0===n?void 0:n.abbr)&&void 0!==t?t:e.rarity,image:"https://storage.googleapis.com/ygoprodeck.com/pics/".concat(e.id,".jpg")}})),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return P.apply(this,arguments)}function P(){return(P=Object(f.a)(m.a.mark((function e(){var t,n,a,i,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C("https://db.ygoprodeck.com/pack-open/"));case 2:return t=e.sent,e.next=5,t.text();case 5:for(n=e.sent,a=/startgame\('(.*?)', '(\d+)'\).*?<img data-src="(.*?)"(?<=<h2 style="align:center" id="(.*?)">(.*?)<\/h2>[\s\S]*?)/g,i=[];null!==(r=a.exec(n));)i.push({name:r[1],type:parseInt(r[2]),image:r[3],kindId:r[4],kind:r[5]});return o=k.a.mapValues(k.a.groupBy(i,"kindId"),(function(e,t){return{name:e[0].kind,sets:e.map((function(e){return{set:t,name:e.name.replace(/\\'/g,"'"),type:e.type,image:e.image}}))}})),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(5),E=n(4);var D=300,I=Object(d.a)("div",{target:"e19jroqy2",label:"WheelContainer"})({overflow:"hidden",display:"flex",flexFlow:"column nowrap",position:"relative",width:160,height:D,">.inner":{position:"absolute"}},""),N=Object(d.a)("div",{target:"e19jroqy1",label:"WheelEntry"})({position:"relative",width:160,height:D,backgroundColor:"#fff",">img":{position:"absolute",top:"50%",transform:"translate(0, -50%)",width:160}},"");function F(e){var t=e.className,n=e.sets,r=e.index,o=e.show,c=Object(T.e)(D),s=Object(i.useRef)(n.length*D),l=Object(T.f)(c,(function(e){return Object(E.y)(0,-s.current,e)}));return s.current=n.length*D,Object(i.useEffect)((function(){if(o){var e=-(1+r)*D;c.set(e-12e3),Object(T.c)(c,e,{type:"tween",ease:[.32,0,0,1],duration:6})}}),[o,r,c]),Object(a.jsx)(I,{className:t,children:Object(a.jsxs)(T.d.div,{className:"inner",style:{y:l},initial:{opacity:0},animate:{opacity:o?1:0},children:[n.length>0&&Object(a.jsx)(N,{children:Object(a.jsx)("img",{alt:n[n.length-1].name,src:n[n.length-1].image})}),n.map((function(e){return Object(a.jsx)(N,{children:Object(a.jsx)("img",{alt:e.name,src:e.image})},e.name)})),n.length>0&&Object(a.jsx)(N,{children:Object(a.jsx)("img",{alt:n[0].name,src:n[0].image})})]})})}var z=Object(d.a)("div",{target:"e19jroqy0",label:"WheelWrapper"})({name:"t8d9dr",styles:"position:relative;display:flex;flex-flow:column;align-items:center;width:220px;>.wheel{position:relative;z-index:5;margin-top:8px;}>.name{font-weight:bold;font-size:20px;text-align:center;}>.spin{position:absolute;z-index:1;top:50%;margin-top:-1em;height:2em;left:0;width:100%;text-align:center;font-size:20px;}>.result{margin-top:8px;font-size:20px;text-align:center;height:3em;}"});function L(e){var t,n,r=e.name,o=e.wheel,c=e.onIndexChange,s=Object(i.useState)(0),u=Object(l.a)(s,2),d=u[0],b=u[1],m=Object(i.useState)(!1),f=Object(l.a)(m,2),p=f[0],h=f[1],j=Object(i.useState)(!1),g=Object(l.a)(j,2),x=g[0],O=g[1];return Object(a.jsxs)(z,{onClick:function(){if(!x){var e=Math.floor(Math.random()*o.length);b(e),O(!0),setTimeout((function(){h(!0),c(e)}),6e3)}},children:[Object(a.jsx)("div",{className:"name",children:r}),Object(a.jsx)(F,{className:"wheel",show:x,sets:o,index:d}),Object(a.jsx)("div",{className:"spin",children:"Spin!"}),Object(a.jsx)(T.d.div,{className:"result",initial:{opacity:0},animate:{opacity:p?1:0},children:null!==(t=null===(n=o[d])||void 0===n?void 0:n.name)&&void 0!==t?t:" "})]})}var B=Object(d.a)("button",{target:"el1d54l0",label:"Button"})({name:"1rbvxgd",styles:"outline:0;border:0;padding:5px 20px;font-size:18px;margin:20px auto 0;display:block;background-color:#b2591a;color:#fff;transition:background-color 200ms ease;&:hover{background-color:#7a4017;}"});var G=Object(d.a)("div",{target:"e1kuflvz0",label:"Wheels"})({name:"121ggzj",styles:"flex:1;display:flex;align-items:center;justify-content:space-around"});var U=n(19);var W=Object(d.a)(T.d.div,{target:"e8zn9oi0",label:"ModalContainer"})({name:"dg6yvx",styles:"position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;background-color:rgba(0, 0, 0, 0.5)"});function V(e){var t=e.show,n=e.children,i=e.onClose;return Object(o.createPortal)(Object(a.jsx)(T.a,{children:t&&Object(a.jsx)(W,{onClick:function(){return i()},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:n})})}),document.body)}var q=Object(d.a)("div",{target:"evbwvfn6",label:"PacksContainer"})({name:"vbbolt",styles:"display:flex;padding:20px;justify-content:space-around"}),A=Object(d.a)(T.d.div,{target:"evbwvfn5",label:"PacksInfo"})({name:"1ofhmey",styles:"display:flex;flex-flow:column;width:180px;align-items:center;>img{height:200px;}>.name{padding-top:5px;font-size:16px;text-align:center;height:3em;}>.count{padding-top:5px;font-size:20px;font-weight:bold;text-align:center;}"}),Y=421/614,_=.556,H=Object(d.a)("div",{target:"evbwvfn4",label:"CardModalContainer"})({name:"krm637",styles:"position:relative;overflow:hidden;padding:20px;background-color:#fff;>.name{width:300px;font-size:20px;text-align:center;}"}),J=Object(d.a)("div",{target:"evbwvfn3",label:"CardModalOpenContainer"})({position:"relative",margin:"5px auto 0",width:230,height:230/_,">.card":{position:"absolute",zIndex:2,width:200,height:200/Y,top:"50%",left:"50%",marginLeft:-100,marginTop:-100/Y,">div":{position:"relative",width:"100%",height:"100%",display:"block",boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)",">img":{position:"relative",zIndex:2,width:"100%",height:"100%",display:"block"}}}},""),X=Object(d.a)("div",{target:"evbwvfn2",label:"CardModalOpenCover"})({position:"relative",width:230,height:230/_,">.bot":{position:"absolute",zIndex:100,top:30,left:0,width:"100%",height:"".concat(230/_-30,"px"),backgroundSize:"".concat(230,"px ",230/_,"px"),backgroundPosition:"bottom center"},">.top":{position:"absolute",zIndex:100,top:0,left:0,width:"100%",height:30,backgroundSize:"".concat(230,"px ",230/_,"px"),backgroundPosition:"top center"}},""),Z=Object(d.a)("div",{target:"evbwvfn1",label:"CardModalBase"})({name:"8bm9g9",styles:"position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;display:flex;flex-flow:column;align-items:center;justify-content:center;>button:first-of-type{margin-bottom:10px;}"}),K=Object(d.a)(T.d.div,{target:"evbwvfn0",label:"CardRarityContainer"})({zIndex:1,position:"absolute",top:-6,left:-6,right:-6,bottom:-6,border:"3px solid transparent",">div":{zIndex:1,position:"absolute",right:-3,top:-23,height:20,padding:"0 10px",borderTopLeftRadius:10,fontSize:16,fontWeight:"bold",lineHeight:"20px",color:"#fff",textShadow:"0 0 5px rgba(0, 0, 0, 0.7)"}},""),Q={initial:{opacity:0},shown:{opacity:1,transition:{delay:1,duration:1}}};function $(e){var t,n=e.rarity,i=e.show;return t="R"===n?["#44b9e4","#1954a8"]:"SR"===n?["#43eb5e","#19a820"]:"ScR"===n||"PScR"===n?["#7243eb","#a8198b","#a8192f"]:"UR"===n||"UtR"===n?["#521bba","#c41bcc","#ee760e"]:"CR"===n?["#e6624e","#d10b0b","#940909"]:["#adadad","#555555"],Object(a.jsx)(K,{variants:Q,animate:i?"shown":"initial",style:{borderColor:t[t.length-1]},children:Object(a.jsx)("div",{style:{background:"linear-gradient(to bottom, ".concat(t.join(", "),")")},children:n})})}var ee={initial:{},anim1:{y:-10,transition:{delay:0,duration:.5}},anim2:{opacity:0,rotate:20,x:100,transition:{delay:.5,duration:.5}},anim3:{display:"none",transition:{delay:1}}},te={initial:{},anim1:{y:230/_,rotate:-5,opacity:0,transition:{delay:.5,duration:.5}},anim3:{display:"none",transition:{delay:1}}},ne={initial:{},top:{scale:1.1,transition:{delay:1}},out1:{x:-230,rotate:-10,transition:{duration:1},opacity:0},out2:{display:"none",transition:{delay:1}}};function ae(e){var t=e.cards,n=e.set,r=e.remaining,o=e.onClose,c=Object(i.useState)(!1),s=Object(l.a)(c,2),u=s[0],d=s[1],b=Object(i.useState)(-1),m=Object(l.a)(b,2),f=m[0],p=m[1],h=Object(i.useRef)(!0);return Object(a.jsxs)(H,{onClick:function(){if(!h.current)return;u?f<t.length&&(h.current=!1,p(f+1),setTimeout((function(){return h.current=!0}),500)):(h.current=!1,d(!0),setTimeout((function(){return p(0)}),500),setTimeout((function(){return h.current=!0}),1e3))},children:[Object(a.jsx)("div",{className:"name",children:n.name}),Object(a.jsxs)(J,{children:[Object(a.jsxs)(Z,{children:[r>0&&Object(a.jsx)(B,{onClick:function(e){return j(e,!0)},children:"Open Another"}),Object(a.jsx)(B,{onClick:function(e){return j(e,!1)},children:"Close"})]}),u&&t.map((function(e,n){var i=f===n,r=f>n;return Object(a.jsx)(T.d.div,{animate:i?"top":r?["out1","out2"]:"initial",variants:ne,className:"card",style:{zIndex:10+t.length-n},children:Object(a.jsxs)("div",{style:{marginTop:4*(t.length/2-n)},children:[Object(a.jsx)($,{rarity:e.rarity,show:i||r}),Object(a.jsx)("img",{src:e.image,alt:e.name})]})},e.id)})),Object(a.jsxs)(X,{children:[Object(a.jsx)(T.d.div,{className:"top",animate:u?["anim1","anim2","anim3"]:"initial",variants:ee,style:{backgroundImage:"url(".concat(n.image,")")}}),Object(a.jsx)(T.d.div,{className:"bot",animate:u?["anim1","anim3"]:"initial",variants:te,style:{backgroundImage:"url(".concat(n.image,")")}})]})]})]});function j(e,t){e.stopPropagation(),o(t)}}var ie=Object(d.a)(T.d.div,{target:"e1j6nyvb3",label:"ViewContainer"})({display:"flex",flexFlow:"row wrap",marginTop:-20},""),re=Object(d.a)("div",{target:"e1j6nyvb2",label:"DetailContainer"})({flex:"0 0 auto",width:300,display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center",">.image":{width:280,height:408.36104513064134,">img":{display:"block",width:"100%",height:"100%"}}},""),oe=Object(d.a)(T.d.div,{target:"e1j6nyvb1",label:"CardsContainer"})({flex:"1 1 0%",overflow:"auto",display:"flex",flexFlow:"row wrap",maxHeight:500,justifyContent:"center",padding:"20px 0",">img":{flex:"0 0 auto",width:50,height:72.92161520190024,margin:5}},""),ce=Object(d.a)("div",{target:"e1j6nyvb0",label:"ButtonsContainer"})({name:"1jou9ai",styles:"display:flex;flex-flow:row wrap;align-items:center;justify-content:center"}),se={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},le={hidden:{opacity:0},show:{opacity:1},ignored:{opacity:.5}},ue=Object(i.memo)((function(e){var t=e.cards,n=e.setCurrentDetail,i=e.onIgnore;return Object(a.jsx)(oe,{variants:se,initial:"hidden",animate:"show",children:t.map((function(e,t){return Object(a.jsx)(T.d.img,{layout:!0,variants:le,src:e.image,animate:e.ignore?"ignored":"show",onMouseEnter:function(){return n(e)},onClick:function(){return i(t)}},t)}))})}));var de=Object(d.a)(T.d.div,{target:"e11xwq512",label:"Content"})({name:"1sllqpx",styles:"display:flex;height:100%;flex-flow:column;align-items:center;justify-content:center"}),be=Object(d.a)(T.d.div,{target:"e11xwq511",label:"Frame"})({name:"1ntqrm1",styles:"position:relative;width:1000px;padding:20px 0;display:flex;background-color:#fff;flex-flow:column;overflow:hidden"}),me=Object(d.a)(T.d.div,{target:"e11xwq510",label:"StepsContainer"})({name:"5tf7t6",styles:"width:1000px;display:flex;flex-flow:row nowrap;background-color:#b2591a;color:#ffffff;overflow:hidden;.name{flex:1;text-align:center;font-size:16px;padding:5px;}"});function fe(e){var t=e.stepName;return Object(a.jsx)(me,{layout:!0,children:Object(a.jsx)(T.a,{exitBeforeEnter:!0,initial:!1,children:Object(a.jsx)(T.d.div,{initial:"initial",animate:"enter",exit:"exit",variants:pe,className:"name",children:t},t)})})}var pe={enter:{opacity:1},exit:{x:"-50%",opacity:0},initial:{opacity:0}},he=[{name:"Roll Packs",component:function(e){var t,n,r,o,c=e.onDone,s=Object(i.useState)({modern:-1,old:-1,mega:-1,battle:-1}),u=Object(l.a)(s,2),d=u[0],b=u[1],O=Object(i.useState)(null),y=Object(l.a)(O,2),v=y[0],w=y[1];Object(i.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]);var C=d.modern>=0&&d.old>=0&&d.mega>=0&&d.battle>=0;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(G,{children:[Object(a.jsx)(L,{name:"Modern",wheel:null!==(t=null===v||void 0===v?void 0:v.modern)&&void 0!==t?t:[],onIndexChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{modern:e})}))}}),Object(a.jsx)(L,{name:"Old",wheel:null!==(n=null===v||void 0===v?void 0:v.old)&&void 0!==n?n:[],onIndexChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{old:e})}))}}),Object(a.jsx)(L,{name:"Mega",wheel:null!==(r=null===v||void 0===v?void 0:v.mega)&&void 0!==r?r:[],onIndexChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{mega:e})}))}}),Object(a.jsx)(L,{name:"Battle",wheel:null!==(o=null===v||void 0===v?void 0:v.battle)&&void 0!==o?o:[],onIndexChange:function(e){return b((function(t){return Object(p.a)(Object(p.a)({},t),{},{battle:e})}))}})]}),Object(a.jsx)(T.d.div,{initial:{opacity:0},animate:{opacity:C?1:0},children:Object(a.jsx)(B,{onClick:function(){C&&c({modern:v.modern[d.modern],old:v.old[d.old],mega:v.mega[d.mega],battle:v.battle[d.battle]})},children:"Continue"})})]});function S(){return(S=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["ocg_boosters","ocg_boosters_series1","ocg_boosters_volume1"],e.next=3,R();case 3:n=e.sent,a=k.a.flatMap(n,(function(e){return e.sets})).filter((function(e){return!t.includes(e.set)})),w({modern:h.map((function(e){return a.find((function(t){return t.name===e}))})),old:j.map((function(e){return a.find((function(t){return t.name===e}))})),mega:g.map((function(e){return a.find((function(t){return t.name===e}))})),battle:x.map((function(e){return a.find((function(t){return t.name===e}))}))});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},{name:"Open Packs",component:function(e){var t=e.onDone,n=e.stepValues,r=Object(i.useRef)([]),o=function(e){var t=Object(i.useState)(e),n=Object(l.a)(t,2),a=n[0],r=n[1],o=Object(i.useRef)(e);return[a,function(e){return r((function(t){var n="function"===typeof e?e(t):e;return o.current=n,n}))},o]}(!1),c=Object(l.a)(o,3),u=(c[0],c[1]),d=c[2],b=Object(i.useState)({modern:5,old:5,mega:5,battle:5}),h=Object(l.a)(b,2),j=h[0],g=h[1],x=Object(i.useState)(),O=Object(l.a)(x,2),y=O[0],v=O[1],w=Object(i.useState)(0),k=Object(l.a)(w,2),C=k[0],M=k[1],R=Object(i.useState)([]),P=Object(l.a)(R,2),E=P[0],D=P[1],I=Object(i.useState)(!1),N=Object(l.a)(I,2),F=N[0],z=N[1],L=j.modern+j.old+j.mega+j.battle<=0,G=Object(i.useCallback)(function(){var e=Object(f.a)(m.a.mark((function e(t){var a,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.current||!(j[t]<=0)){e.next=2;break}return e.abrupt("return");case 2:return u(!0),i=j[t]-1,e.next=6,S(n.step0[t]);case 6:o=e.sent,g(Object(p.a)(Object(p.a)({},j),{},Object(s.a)({},t,i))),v(t),D(o),M(i),z(!0),(a=r.current).push.apply(a,Object(U.a)(o));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j,n]),W=Object(i.useCallback)((function(e){e?(z(!1),setTimeout((function(){return G(y)}),500)):(z(!1),u(!1))}),[y,G]),Y=Object(i.useCallback)((function(){L&&t({cards:r.current})}),[t,L]);return Object(i.useEffect)((function(){false}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(q,{children:[Object(a.jsxs)(A,{animate:{opacity:0==j.modern?.5:1},onClick:function(){return G("modern")},children:[Object(a.jsx)("img",{src:n.step0.modern.image}),Object(a.jsx)("div",{className:"name",children:n.step0.modern.name}),Object(a.jsx)("div",{className:"count",children:j.modern})]}),Object(a.jsxs)(A,{animate:{opacity:0==j.old?.5:1},onClick:function(){return G("old")},children:[Object(a.jsx)("img",{src:n.step0.old.image}),Object(a.jsx)("div",{className:"name",children:n.step0.old.name}),Object(a.jsx)("div",{className:"count",children:j.old})]}),Object(a.jsxs)(A,{animate:{opacity:0==j.mega?.5:1},onClick:function(){return G("mega")},children:[Object(a.jsx)("img",{src:n.step0.mega.image}),Object(a.jsx)("div",{className:"name",children:n.step0.mega.name}),Object(a.jsx)("div",{className:"count",children:j.mega})]}),Object(a.jsxs)(A,{animate:{opacity:0==j.battle?.5:1},onClick:function(){return G("battle")},children:[Object(a.jsx)("img",{src:n.step0.battle.image}),Object(a.jsx)("div",{className:"name",children:n.step0.battle.name}),Object(a.jsx)("div",{className:"count",children:j.battle})]})]}),Object(a.jsx)(T.d.div,{initial:{opacity:0},animate:{opacity:L?1:0},children:Object(a.jsx)(B,{onClick:Y,children:"Continue"})}),Object(a.jsx)(V,{show:F,onClose:function(){return W(!1)},children:F&&Object(a.jsx)(ae,{onClose:function(e){return W(e)},remaining:C,cards:E,set:n.step0[y]},y+C)})]})}},{name:"View Cards",component:function(e){var t=e.stepValues,n=(e.onDone,Object(i.useState)()),r=Object(l.a)(n,2),o=r[0],c=r[1],s=Object(i.useState)((function(){var e=t.step1.cards;return k.a.orderBy(e,[function(e){var t;return null!==(t=v[e.type])&&void 0!==t?t:20},"name"],["asc","asc"]).map((function(e){return Object(p.a)(Object(p.a)({},e),{},{ignore:!1})}))})),u=Object(l.a)(s,2),d=u[0],b=u[1],m=Object(i.useMemo)((function(){var e=d.filter((function(e){return!e.ignore&&!e.extra})).length,t=d.filter((function(e){return!e.ignore&&e.extra})).length;return Math.max(Math.ceil(e/75),Math.ceil(t/15))}),[d]),f=Object(i.useCallback)((function(e){b(d.slice().map((function(t,n){return e==n?Object(p.a)(Object(p.a)({},t),{},{ignore:!t.ignore}):t})))}),[d]),h=Object(i.useCallback)((function(){for(var e=k.a.chunk(d.filter((function(e){return!e.ignore&&!e.extra})),75),t=k.a.chunk(d.filter((function(e){return!e.ignore&&e.extra})),15),n=k.a.zip(e,t),a=function(e){var t=Object(l.a)(n[e],2),a=t[0],i=t[1],r="#created by ArenaDraft\n#main\n";null===a||void 0===a||a.slice(0,60).forEach((function(e){return r+="".concat(e.id,"\n")})),r+="#extra\n",null===i||void 0===i||i.forEach((function(e){return r+="".concat(e.id,"\n")})),r+="!side\n",null===a||void 0===a||a.slice(60).forEach((function(e){return r+="".concat(e.id,"\n")})),setTimeout((function(){return function(e,t){var n=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),a=document.createElement("a");a.style.display="none",a.href=n,a.download=t,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),setTimeout((function(){return a.remove()}),0)}(r,"draft_".concat(e+1,".ydk"))}),500*e)},i=0;i<n.length;i++)a(i)}),[d]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ie,{layout:!0,children:[Object(a.jsx)(re,{children:Object(a.jsx)("div",{className:"image",children:o&&Object(a.jsx)("img",{src:o.image})})}),Object(a.jsx)(ue,{cards:d,setCurrentDetail:c,onIgnore:f})]}),Object(a.jsx)(ce,{children:Object(a.jsxs)(B,{onClick:h,children:["Download YDKs (",m,")"]})})]})}}];function je(e){Object(u.a)(e);var t=Object(i.useState)({}),n=Object(l.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(0),d=Object(l.a)(c,2),b=d[0],m=d[1];return Object(a.jsx)(T.b,{children:Object(a.jsxs)(de,{layout:!0,children:[Object(a.jsx)(fe,{stepName:he[b].name}),Object(a.jsx)(be,{layout:!0,children:Object(a.jsx)(T.a,{exitBeforeEnter:!0,initial:!1,children:he.map((function(e,t){var n=e.component;return b==t&&Object(a.jsx)(T.d.div,{layout:!0,initial:"initial",animate:"enter",exit:"exit",variants:pe,children:Object(a.jsx)(n,{stepValues:r,onDone:function(e){o((function(n){return Object(s.a)({v:n},"step"+t,e)})),m(t+1)}})},"step0")}))})})]})})}var ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(je,{})}),document.getElementById("root")),ge()}},[[33,1,2]]]);
//# sourceMappingURL=main.1ec13d73.chunk.js.map