{"version":3,"sources":["data.ts","utils/yugioh.ts","components/wheel.tsx","components/button.tsx","components/step-wheels.tsx","components/modal.tsx","components/step-packs.tsx","components/step-view.tsx","components/app.tsx","utils/hooks.ts","config.ts","utils/download-file.ts","reportWebVitals.ts","index.tsx"],"names":["dataModernWheel","dataOldWheel","dataMegaWheel","dataBattleWheel","rarityMap","Common","name","abbr","Rare","cardTypesExtra","cardTypesSort","corsUrl","url","serviceOpenPack","set","a","encodedName","encodeURIComponent","type","fetch","resp","json","cards","ret","map","c","id","extra","includes","rarity","image","serviceGetAllSets","res","text","data","regex","results","match","exec","push","parseInt","kindId","kind","_","mapValues","groupBy","v","k","sets","v1","replace","cardHeight","WheelContainer","overflow","display","flexFlow","position","width","height","WheelEntry","backgroundColor","top","transform","Wheel","className","index","show","yPos","useMotionValue","wrapNum","useRef","length","y","useTransform","wrap","current","useEffect","toPos","animate","ease","duration","div","style","initial","opacity","alt","src","e","WheelWrapper","WheelChooser","wheel","onIndexChange","useState","setIndex","showName","setShowName","setShow","onClick","choice","Math","floor","random","setTimeout","Button","Wheels","ModalContainer","motion","Modal","children","onClose","createPortal","exit","stopPropagation","document","body","PacksContainer","PacksInfo","cardRatio","packRatio","CardModalContainer","CardModalOpenContainer","margin","zIndex","left","marginLeft","marginTop","boxShadow","CardModalOpenCover","backgroundSize","backgroundPosition","CardModalBase","CardRarityContainer","right","bottom","border","padding","borderTopLeftRadius","fontSize","fontWeight","lineHeight","color","textShadow","cardRarityContainerVariants","shown","transition","delay","CardRarity","rarityColor","variants","borderColor","background","join","coverTopVariants","anim1","anim2","rotate","x","anim3","coverBotVariants","cardVariants","scale","out1","out2","CardModal","remaining","coverRemoved","setCoverRemoved","viewedIndex","setViewedIndex","interactiveRef","handleClose","i","visible","hidden","backgroundImage","another","ViewContainer","DetailContainer","flex","justifyContent","alignItems","CardsContainer","maxHeight","ButtonsContainer","cardsViewVariants","staggerChildren","ignored","CardList","memo","setCurrentDetail","onIgnore","img","layout","ignore","onMouseEnter","Content","Frame","StepsContainer","Steps","stepName","exitBeforeEnter","stepVariants","enter","steps","component","onDone","modern","old","mega","battle","indexes","setIndexes","wheelData","setWheelData","loadData","completed","ocgSets","allSets","flatMap","s","filter","w","find","stepValues","cardsRef","initialValue","value","setValue","valueRef","prevValue","newValue","useStateRef","setLoading","loadingRef","remainings","setRemainings","modalSet","setModalSet","modalRemaining","setModalRemaining","modalCards","setModalCards","modalShow","setModalShow","loadPack","useCallback","setId","setRem","step0","handleModalClose","handleClick","currentDetail","step1","orderBy","setCards","ydkCount","useMemo","deckCount","extraCount","max","ceil","handleIgnore","slice","mainChunks","chunk","extraChunks","ydks","zip","main","ydk","forEach","window","URL","createObjectURL","Blob","createElement","href","download","appendChild","click","revokeObjectURL","remove","downloadFile","App","setStepValues","step","setStep","Component","result","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8QAAaA,EAAkB,CAC7B,qBACA,eACA,oBACA,oBACA,sBACA,mBACA,iBACA,mBACA,iBACA,qBACA,sBACA,kBACA,gBACA,gBACA,wBACA,eACA,qBACA,sBACA,cACA,mBACA,gBACA,uBACA,aACA,gBACA,iBACA,uBACA,eACA,kBACA,mBACA,gBACA,iBACA,gBACA,aACA,sBACA,eACA,kBAGWC,EAAe,CAC1B,uCACA,gBACA,cACA,oBACA,yBACA,qBACA,qBACA,mBACA,cACA,oBACA,oBACA,sBACA,kBACA,mBACA,sBACA,wBACA,mBACA,qBACA,mBACA,uBACA,mBACA,iBACA,uBACA,qBACA,sBACA,mBACA,uBACA,sBACA,sBACA,iBACA,gBACA,mBACA,qBACA,sBACA,uBACA,qBACA,mBACA,oBACA,kBACA,mBACA,mBACA,iBACA,oBACA,wBACA,eACA,eACA,6BACA,wBACA,kBACA,wBACA,gBACA,mBACA,sBACA,sBACA,gBACA,sBACA,qBACA,oBACA,qBAGWC,EAAgB,CAC3B,0BACA,0BACA,0BACA,0BACA,0BACA,sCACA,sCACA,sBACA,yBACA,uCACA,uCACA,4BACA,8BAGWC,EAAkB,CAC7B,yBACA,mCACA,iCAGWC,EAAiC,CAC5CC,OAAQ,CACNC,KAAM,SACNC,KAAM,KAER,cAAe,CACbD,KAAM,cACNC,KAAM,MAERC,KAAM,CACJF,KAAM,OACNC,KAAM,KAER,YAAa,CACXD,KAAM,YACNC,KAAM,OAER,kBAAmB,CACjBD,KAAM,kBACNC,KAAM,OAER,aAAc,CACZD,KAAM,aACNC,KAAM,MAER,aAAc,CACZD,KAAM,aACNC,KAAM,MAER,cAAe,CACbD,KAAM,cACNC,KAAM,OAER,wBAAyB,CACvBD,KAAM,wBACNC,KAAM,QAER,gBAAiB,CACfD,KAAM,gBACNC,KAAM,OAER,mBAAoB,CAClBD,KAAM,mBACNC,KAAM,MAER,iBAAkB,CAChBD,KAAM,iBACNC,KAAM,OAER,oBAAqB,CACnBD,KAAM,oBACNC,KAAM,aAIGE,EAAiB,CAC5B,iBACA,eACA,iCACA,kBACA,kCACA,wBACA,cACA,+BAGWC,EAAwC,CACnD,iBAAkB,EAClB,sBAAuB,EACvB,4BAA6B,EAC7B,iBAAkB,EAClB,iBAAkB,EAClB,uBAAwB,EACxB,0BAA2B,EAC3B,+BAAgC,EAChC,0BAA2B,EAC3B,gCAAiC,EACjC,wBAAyB,EACzB,iBAAkB,EAClB,aAAc,EACd,aAAc,EACd,iBAAkB,EAClB,eAAgB,EAChB,YAAa,EACb,gBAAiB,EACjB,uBAAwB,EACxB,iBAAkB,GAClB,eAAgB,GAChB,iCAAkC,GAClC,kBAAmB,GACnB,kCAAmC,GACnC,wBAAyB,GACzB,cAAe,GACf,8BAA+B,I,iBClM1B,SAASC,EAAQC,GACtB,MAAM,+CAAN,OAAsDA,GAGjD,SAAeC,EAAtB,kC,4CAAO,WAA+BC,GAA/B,uBAAAC,EAAA,0HAECC,EAAcC,mBAAmBH,EAAIR,MACrCM,EAHD,2FAG4BI,EAH5B,oBAGmDF,EAAII,MAHvD,SAKcC,MAAMR,EAAQC,IAL5B,cAKCQ,EALD,gBAMgBA,EAAKC,OANrB,cAMCC,EAND,OAM6B,GAE5BC,EAAoBD,EAAME,KAAI,SAACC,GAAD,cAAa,CAC/CC,GAAID,EAAEC,GACNpB,KAAMmB,EAAEnB,KACRqB,MAAOlB,EAAemB,SAASH,EAAEP,MACjCA,KAAMO,EAAEP,KACRW,OAAM,oBAAEzB,EAAUqB,EAAEI,eAAd,aAAE,EAAqBtB,YAAvB,QAA+BkB,EAAEI,OACvCC,MAAM,sDAAD,OAAwDL,EAAEC,GAA1D,YAdF,kBAgBEH,GAhBF,6C,sBAmBA,SAAeQ,IAAtB,+B,4CAAO,sCAAAhB,EAAA,sEACaI,MAAMR,EAAQ,yCAD3B,cACCqB,EADD,gBAEcA,EAAIC,OAFlB,OAaL,IAXMC,EAFD,OAGCC,EAAQ,qHACRC,EAMA,GAGgC,QAA9BC,EAAQF,EAAMG,KAAKJ,KACzBE,EAAQG,KAAK,CACXjC,KAAM+B,EAAM,GACZnB,KAAMsB,SAASH,EAAM,IACrBP,MAAOO,EAAM,GACbI,OAAQJ,EAAM,GACdK,KAAML,EAAM,KAnBX,OAuBCd,EAAqCoB,IAAEC,UAC3CD,IAAEE,QAAQT,EAAS,WACnB,SAACU,EAAGC,GAAJ,MAAW,CACTzC,KAAMwC,EAAE,GAAGJ,KACXM,KAAMF,EAAEtB,KAAI,SAACyB,GAAD,MAAS,CACnBnC,IAAKiC,EACLzC,KAAM2C,EAAG3C,KAAK4C,QAAQ,OAAQ,KAC9BhC,KAAM+B,EAAG/B,KACTY,MAAOmB,EAAGnB,cA/BX,kBAmCEP,GAnCF,6C,wCCvCP,IAAM4B,EAAa,IAGbC,EAAiB,+DAAW,CAChCC,SAAU,SACVC,QAAS,OACTC,SAAU,gBACVC,SAAU,WAEVC,MARgB,IAShBC,OAAQP,EAER,UAAW,CACTK,SAAU,aAVS,IAcjBG,EAAa,2DAAW,CAC5BH,SAAU,WACVC,MAlBgB,IAmBhBC,OAAQP,EACRS,gBAAiB,OAEjB,OAAQ,CACNJ,SAAU,WACVK,IAAK,MACLC,UAAW,qBACXL,MA1Bc,MAgBC,IA6BnB,SAASM,EAAT,GAA8D,IAA7CC,EAA4C,EAA5CA,UAAWhB,EAAiC,EAAjCA,KAAMiB,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KACjCC,EAAOC,YAAejB,GACtBkB,EAAUC,iBAAOtB,EAAKuB,OAASpB,GAC/BqB,EAAIC,YAAaN,GAAM,SAACK,GAAD,OAAOE,YAAK,GAAIL,EAAQM,QAASH,MAgB9D,OAdAH,EAAQM,QAAU3B,EAAKuB,OAASpB,EAEhCyB,qBAAU,WACR,GAAIV,EAAM,CACR,IAAMW,IAAU,EAAIZ,GAASd,EAC7BgB,EAAKrD,IAAI+D,EAAQ1B,MACjB2B,YAAQX,EAAMU,EAAO,CACnB3D,KAAM,QACN6D,KAAM,CAAC,IAAM,EAAG,EAAG,GACnBC,SAAU,OAGb,CAACd,EAAMD,EAAOE,IAGf,cAACf,EAAD,CAAgBY,UAAWA,EAA3B,SACE,eAAC,IAAOiB,IAAR,CACEjB,UAAU,QACVkB,MAAO,CAAEV,KACTW,QAAS,CAAEC,QAAS,GACpBN,QAAS,CAAEM,QAASlB,EAAO,EAAI,GAJjC,UAMGlB,EAAKuB,OAAS,GACb,cAACZ,EAAD,UACE,qBACE0B,IAAKrC,EAAKA,EAAKuB,OAAS,GAAGjE,KAC3BgF,IAAKtC,EAAKA,EAAKuB,OAAS,GAAGzC,UAIhCkB,EAAKxB,KAAI,SAAC+D,GAAD,OACR,cAAC5B,EAAD,UACE,qBAAK0B,IAAKE,EAAEjF,KAAMgF,IAAKC,EAAEzD,SADVyD,EAAEjF,SAIpB0C,EAAKuB,OAAS,GACb,cAACZ,EAAD,UACE,qBAAK0B,IAAKrC,EAAK,GAAG1C,KAAMgF,IAAKtC,EAAK,GAAGlB,eAQjD,IAAM0D,EAAe,odA0Cd,SAASC,EAAT,GAIgB,IAAD,IAHpBnF,EAGoB,EAHpBA,KACAoF,EAEoB,EAFpBA,MACAC,EACoB,EADpBA,cACoB,EACMC,mBAAS,GADf,mBACb3B,EADa,KACN4B,EADM,OAEYD,oBAAS,GAFrB,mBAEbE,EAFa,KAEHC,EAFG,OAGIH,oBAAS,GAHb,mBAGb1B,EAHa,KAGP8B,EAHO,KAKpB,OACE,eAACR,EAAD,CACES,QAAS,WACP,IAAK/B,EAAM,CACT,IAAMgC,EAASC,KAAKC,MAAMD,KAAKE,SAAWX,EAAMnB,QAChDsB,EAASK,GACTF,GAAQ,GACRM,YAAW,WACTP,GAAY,GACZJ,EAAcO,KACb,OATT,UAaE,qBAAKlC,UAAU,OAAf,SAAuB1D,IACvB,cAACyD,EAAD,CAAOC,UAAU,QAAQE,KAAMA,EAAMlB,KAAM0C,EAAOzB,MAAOA,IACzD,qBAAKD,UAAU,OAAf,mBACA,cAAC,IAAOiB,IAAR,CACEjB,UAAU,SACVmB,QAAS,CAAEC,QAAS,GACpBN,QAAS,CAAEM,QAASU,EAAW,EAAI,GAHrC,6BAKGJ,EAAMzB,UALT,aAKG,EAAc3D,YALjB,QAKyB,SC7KxB,IAAMiG,EAAS,sRCatB,IAAMC,EAAS,sJ,YCVf,IAAMC,EAAiB,YAAOC,IAAOzB,IAAd,iOAmBhB,SAAS0B,EAAT,GAAyD,IAAxCzC,EAAuC,EAAvCA,KAAM0C,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,QACtC,OAAOC,uBACL,cAAC,IAAD,UACG5C,GACC,cAACuC,EAAD,CACER,QAAS,kBAAMY,KACf1B,QAAS,CAAEC,QAAS,GACpBN,QAAS,CAAEM,QAAS,GACpB2B,KAAM,CAAE3B,QAAS,GAJnB,SAME,qBAAKa,QAAS,SAACV,GAAD,OAAOA,EAAEyB,mBAAvB,SAA2CJ,QAIjDK,SAASC,MCrBb,IAAMC,EAAiB,+IAMjBC,EAAY,YAAOV,IAAOzB,IAAd,kSAuBZoC,EAAY,IAAM,IAClBC,EAAY,KAEZC,EAAqB,uNAarBC,EAAyB,sEAAW,CACxChE,SAAU,WACViE,OAAQ,aACRhE,MAAO,IACPC,OAAQ,IAAM4D,EAEd,SAAU,CACR9D,SAAU,WACVkE,OAAQ,EACRjE,MAAO,IACPC,OAAQ,IAAM2D,EACdxD,IAAK,MACL8D,KAAM,MACNC,YAAa,IACbC,WAAa,IAAMR,EAEnB,OAAQ,CACN7D,SAAU,WACVC,MAAO,OACPC,OAAQ,OACRJ,QAAS,QACTwE,UAAW,6BAEX,OAAQ,CACNtE,SAAU,WACVkE,OAAQ,EACRjE,MAAO,OACPC,OAAQ,OACRJ,QAAS,YA5Bc,IAkCzByE,EAAqB,kEAAW,CACpCvE,SAAU,WACVC,MAAO,IACPC,OAAQ,IAAM4D,EAEd,QAAS,CACP9D,SAAU,WACVkE,OAAQ,IACR7D,IAAK,GACL8D,KAAM,EACNlE,MAAO,OACPC,OAAO,GAAD,OAAK,IAAM4D,EAAY,GAAvB,MACNU,eAAe,GAAD,OAAK,IAAL,MAAc,IAAMV,EAApB,MACdW,mBAAoB,iBAEtB,QAAS,CACPzE,SAAU,WACVkE,OAAQ,IACR7D,IAAK,EACL8D,KAAM,EACNlE,MAAO,OACPC,OAAQ,GACRsE,eAAe,GAAD,OAAK,IAAL,MAAc,IAAMV,EAApB,MACdW,mBAAoB,eAvBG,IA2BrBC,EAAgB,oQAiBhBC,EAAsB,YAAOzB,IAAOzB,IAAd,iDAAmB,CAC7CyC,OAAQ,EACRlE,SAAU,WACVK,KAAM,EACN8D,MAAO,EACPS,OAAQ,EACRC,QAAS,EACTC,OAAQ,wBAER,OAAQ,CACNZ,OAAQ,EACRlE,SAAU,WACV4E,OAAQ,EACRvE,KAAM,GACNH,OAAQ,GACR6E,QAAS,SACTC,oBAAqB,GACrBC,SAAU,GACVC,WAAY,OACZC,WAAY,OACZC,MAAO,OACPC,WAAY,+BArBY,IAyBtBC,EAAwC,CAC5C3D,QAAS,CAAEC,QAAS,GACpB2D,MAAO,CAAE3D,QAAS,EAAG4D,WAAY,CAAEC,MAAO,EAAGjE,SAAU,KAQzD,SAASkE,EAAT,GAAwD,IAClDC,EADgBtH,EAAiC,EAAjCA,OAAQqC,EAAyB,EAAzBA,KAoB5B,OAjBEiF,EADa,MAAXtH,EACY,CAAC,UAAW,WACN,OAAXA,EACK,CAAC,UAAW,WACN,QAAXA,GAEW,SAAXA,EADK,CAAC,UAAW,UAAW,WAGjB,OAAXA,GAEW,QAAXA,EADK,CAAC,UAAW,UAAW,WAGjB,OAAXA,EACK,CAAC,UAAW,UAAW,WAEvB,CAAC,UAAW,WAI1B,cAACsG,EAAD,CACEiB,SAAUN,EACVhE,QAASZ,EAAO,QAAU,UAC1BgB,MAAO,CAAEmE,YAAaF,EAAYA,EAAY5E,OAAS,IAHzD,SAKE,qBACEW,MAAO,CACLoE,WAAW,8BAAD,OAAgCH,EAAYI,KAAK,MAAjD,MAFd,SAKG1H,MAMT,IAAM2H,GAA6B,CACjCrE,QAAS,GACTsE,MAAO,CAAEjF,GAAI,GAAIwE,WAAY,CAAEC,MAAO,EAAGjE,SAAU,KACnD0E,MAAO,CACLtE,QAAS,EACTuE,OAAQ,GACRC,EAAG,IACHZ,WAAY,CAAEC,MAAO,GAAKjE,SAAU,KAEtC6E,MAAO,CAAEvG,QAAS,OAAQ0F,WAAY,CAAEC,MAAO,KAE3Ca,GAA6B,CACjC3E,QAAS,GACTsE,MAAO,CACLjF,EAAG,IAAM8C,EACTqC,QAAS,EACTvE,QAAS,EACT4D,WAAY,CAAEC,MAAO,GAAKjE,SAAU,KAEtC6E,MAAO,CAAEvG,QAAS,OAAQ0F,WAAY,CAAEC,MAAO,KAE3Cc,GAAyB,CAC7B5E,QAAS,GACTtB,IAAK,CACHmG,MAAO,IACPhB,WAAY,CAAEC,MAAO,IAEvBgB,KAAM,CACJL,GAAI,IACJD,QAAS,GACTX,WAAY,CAAEhE,SAAU,GACxBI,QAAS,GAEX8E,KAAM,CAAE5G,QAAS,OAAQ0F,WAAY,CAAEC,MAAO,KAUzC,SAASkB,GAAT,GAAwE,IAAnD7I,EAAkD,EAAlDA,MAAOR,EAA2C,EAA3CA,IAAKsJ,EAAsC,EAAtCA,UAAWvD,EAA2B,EAA3BA,QAA2B,EACpCjB,oBAAS,GAD2B,mBACrEyE,EADqE,KACvDC,EADuD,OAEtC1E,oBAAU,GAF4B,mBAErE2E,EAFqE,KAExDC,EAFwD,KAGtEC,EAAiBnG,kBAAO,GAE9B,OACE,eAACiD,EAAD,CAAoBtB,QAsDtB,WACE,IAAKwE,EAAe9F,QAClB,OAEG0F,EAKME,EAAcjJ,EAAMiD,SAC7BkG,EAAe9F,SAAU,EACzB6F,EAAeD,EAAc,GAC7BjE,YAAW,kBAAOmE,EAAe9F,SAAU,IAAO,OAPlD8F,EAAe9F,SAAU,EACzB2F,GAAgB,GAChBhE,YAAW,kBAAMkE,EAAe,KAAI,KACpClE,YAAW,kBAAOmE,EAAe9F,SAAU,IAAO,OA9DpD,UACE,qBAAKX,UAAU,OAAf,SAAuBlD,EAAIR,OAC3B,eAACkH,EAAD,WACE,eAACU,EAAD,WACGkC,EAAY,GACX,cAAC7D,EAAD,CAAQN,QAAS,SAACV,GAAD,OAAOmF,EAAYnF,GAAG,IAAvC,0BAEF,cAACgB,EAAD,CAAQN,QAAS,SAACV,GAAD,OAAOmF,EAAYnF,GAAG,IAAvC,sBAED8E,GACC/I,EAAME,KAAI,SAACC,EAAGkJ,GACZ,IAAMC,EAAUL,IAAgBI,EAC1BE,EAASN,EAAcI,EAE7B,OACE,cAAC,IAAO1F,IAAR,CACEH,QACE8F,EAAU,MAAQC,EAAS,CAAC,OAAQ,QAAU,UAEhDzB,SAAUW,GACV/F,UAAU,OAEVkB,MAAO,CAAEwC,OAAQ,GAAKpG,EAAMiD,OAASoG,GAPvC,SASE,sBAAKzF,MAAO,CAAE2C,UAAoC,GAAxBvG,EAAMiD,OAAS,EAAIoG,IAA7C,UACE,cAACzB,EAAD,CAAYrH,OAAQJ,EAAEI,OAAQqC,KAAM0G,GAAWC,IAC/C,qBAAKvF,IAAK7D,EAAEK,MAAOuD,IAAK5D,EAAEnB,WALvBmB,EAAEC,OAUf,eAACqG,EAAD,WACE,cAAC,IAAO9C,IAAR,CACEjB,UAAU,MACVc,QAASuF,EAAe,CAAC,QAAS,QAAS,SAAW,UACtDjB,SAAUI,GACVtE,MAAO,CAAE4F,gBAAgB,OAAD,OAAShK,EAAIgB,MAAb,QAE1B,cAAC,IAAOmD,IAAR,CACEjB,UAAU,MACVc,QAASuF,EAAe,CAAC,QAAS,SAAW,UAC7CjB,SAAUU,GACV5E,MAAO,CAAE4F,gBAAgB,OAAD,OAAShK,EAAIgB,MAAb,iBAOlC,SAAS4I,EAAYnF,EAAewF,GAClCxF,EAAEyB,kBACFH,EAAQkE,IClSZ,IAEMC,GAAgB,YAAOtE,IAAOzB,IAAd,4CAAmB,CACvC3B,QAAS,OACTC,SAAU,WACVsE,WAAY,IAHQ,IAMhBoD,GAAkB,gEAAW,CACjCC,KAAM,WACNzH,MAAO,IACPH,QAAS,OACTC,SAAU,SACV4H,eAAgB,SAChBC,WAAY,SAEZ,UAAW,CACT3H,MAAO,IACPC,OAAQ,mBAER,OAAQ,CACNJ,QAAS,QACTG,MAAO,OACPC,OAAQ,UAfU,IAoBlB2H,GAAiB,YAAO3E,IAAOzB,IAAd,6CAAmB,CACxCiG,KAAM,SACN7H,SAAU,OACVC,QAAS,OACTC,SAAU,WACV+H,UAAW,IACXH,eAAgB,SAChB5C,QAAS,SAET,OAAQ,CACN2C,KAAM,WACNzH,MAAO,GACPC,OAAQ,kBACR+D,OAAQ,IAbW,IAiBjB8D,GAAmB,sKAYnBC,GAA8B,CAClCX,OAAQ,CAAEzF,QAAS,GACnBlB,KAAM,CAAEkB,QAAS,EAAG4D,WAAY,CAAEyC,gBAAiB,OAE/C1B,GAAyB,CAC7Bc,OAAQ,CAAEzF,QAAS,GACnBlB,KAAM,CAAEkB,QAAS,GACjBsG,QAAS,CAAEtG,QAAS,KAahBuG,GAAWC,gBACf,YAA2D,IAAxDtK,EAAuD,EAAvDA,MAAOuK,EAAgD,EAAhDA,iBAAkBC,EAA8B,EAA9BA,SAC1B,OACE,cAACT,GAAD,CACEjC,SAAUoC,GACVrG,QAAQ,SACRL,QAAQ,OAHV,SAKGxD,EAAME,KAAI,SAACC,EAAGkJ,GAAJ,OACT,cAAC,IAAOoB,IAAR,CACEC,QAAM,EACN5C,SAAUW,GAEVzE,IAAK7D,EAAEK,MACPgD,QAASrD,EAAEwK,OAAS,UAAY,OAChCC,aAAc,kBAAML,EAAiBpK,IACrCwE,QAAS,kBAAM6F,EAASnB,KAJnBA,WCnGjB,IAAMwB,GAAU,YAAOzF,IAAOzB,IAAd,qJAQVmH,GAAQ,YAAO1F,IAAOzB,IAAd,iLAURoH,GAAiB,YAAO3F,IAAOzB,IAAd,yOAoBhB,SAASqH,GAAT,GAA0C,IAAzBC,EAAwB,EAAxBA,SACtB,OACE,cAACF,GAAD,CAAgBL,QAAM,EAAtB,SACE,cAAC,IAAD,CAAiBQ,iBAAiB,EAAMrH,SAAS,EAAjD,SACE,cAAC,IAAOF,IAAR,CACEE,QAAQ,UACRL,QAAQ,QACRiC,KAAK,OACLqC,SAAUqD,GAEVzI,UAAU,OANZ,SAQGuI,GAHIA,OAUf,IAAME,GAAyB,CAC7BC,MAAO,CAAEtH,QAAS,GAClB2B,KAAM,CAAE6C,EAAG,OAAQxE,QAAS,GAC5BD,QAAS,CAAEC,QAAS,IAQhBuH,GAAyB,CAC7B,CAAErM,KAAM,aAAcsM,UJhDjB,YAAkD,IAAD,QAA3BC,EAA2B,EAA3BA,OAA2B,EACxBjH,mBAAS,CACrCkH,QAAS,EACTC,KAAM,EACNC,MAAO,EACPC,QAAS,IAL2C,mBAC/CC,EAD+C,KACtCC,EADsC,OAQpBvH,mBAKxB,MAb4C,mBAQ/CwH,EAR+C,KAQpCC,EARoC,KAetDzI,qBAAU,YAf4C,mCAgBpD0I,KACC,IAEH,IAAMC,EACJL,EAAQJ,QAAU,GAClBI,EAAQH,KAAO,GACfG,EAAQF,MAAQ,GAChBE,EAAQD,QAAU,EAEpB,OACE,qCACE,eAACzG,EAAD,WACE,cAACf,EAAD,CACEnF,KAAK,SACLoF,MAAK,iBAAE0H,QAAF,IAAEA,OAAF,EAAEA,EAAWN,cAAb,QAAuB,GAC5BnH,cAAe,SAAC1B,GAAD,OACbkJ,GAAW,SAACxC,GAAD,mBAAC,eAAYA,GAAb,IAAgBmC,OAAQ7I,UAGvC,cAACwB,EAAD,CACEnF,KAAK,MACLoF,MAAK,iBAAE0H,QAAF,IAAEA,OAAF,EAAEA,EAAWL,WAAb,QAAoB,GACzBpH,cAAe,SAAC1B,GAAD,OAAWkJ,GAAW,SAACxC,GAAD,mBAAC,eAAYA,GAAb,IAAgBoC,IAAK9I,UAE5D,cAACwB,EAAD,CACEnF,KAAK,OACLoF,MAAK,iBAAE0H,QAAF,IAAEA,OAAF,EAAEA,EAAWJ,YAAb,QAAqB,GAC1BrH,cAAe,SAAC1B,GAAD,OAAWkJ,GAAW,SAACxC,GAAD,mBAAC,eAAYA,GAAb,IAAgBqC,KAAM/I,UAE7D,cAACwB,EAAD,CACEnF,KAAK,SACLoF,MAAK,iBAAE0H,QAAF,IAAEA,OAAF,EAAEA,EAAWH,cAAb,QAAuB,GAC5BtH,cAAe,SAAC1B,GAAD,OACbkJ,GAAW,SAACxC,GAAD,mBAAC,eAAYA,GAAb,IAAgBsC,OAAQhJ,aAIzC,cAAC,IAAOgB,IAAR,CACEE,QAAS,CAAEC,QAAS,GACpBN,QAAS,CAAEM,QAASmI,EAAY,EAAI,GAFtC,SAIE,cAAChH,EAAD,CAAQN,QAKd,WACMsH,GACFV,EAAO,CACLC,OAAQM,EAAWN,OAAOI,EAAQJ,QAClCC,IAAKK,EAAWL,IAAIG,EAAQH,KAC5BC,KAAMI,EAAWJ,KAAKE,EAAQF,MAC9BC,OAAQG,EAAWH,OAAOC,EAAQD,WAXlC,2BAzDgD,4CAyEtD,gCAAAlM,EAAA,6DACQyM,EAAU,CACd,eACA,uBACA,wBAJJ,SAMqBzL,IANrB,OAMQiB,EANR,OAOQyK,EAAU9K,IAAE+K,QAAQ1K,GAAM,SAAC2K,GAAD,OAAOA,EAAE3K,QAAM4K,QAC7C,SAACD,GAAD,OAAQH,EAAQ5L,SAAS+L,EAAE7M,QAG7BuM,EAAa,CACXP,OAAQ9M,EAAgBwB,KAAI,SAACqM,GAAD,OAAOJ,EAAQK,MAAK,SAACH,GAAD,OAAOA,EAAErN,OAASuN,QAClEd,IAAK9M,EAAauB,KAAI,SAACqM,GAAD,OAAOJ,EAAQK,MAAK,SAACH,GAAD,OAAOA,EAAErN,OAASuN,QAC5Db,KAAM9M,EAAcsB,KAAI,SAACqM,GAAD,OAAOJ,EAAQK,MAAK,SAACH,GAAD,OAAOA,EAAErN,OAASuN,QAC9DZ,OAAQ9M,EAAgBqB,KAAI,SAACqM,GAAD,OAAOJ,EAAQK,MAAK,SAACH,GAAD,OAAOA,EAAErN,OAASuN,UAftE,4CAzEsD,yBIiDtD,CAAEvN,KAAM,aAAcsM,UFmQjB,YAA4D,IAAvCC,EAAsC,EAAtCA,OAAQkB,EAA8B,EAA9BA,WAG5BC,EAAW1J,iBAAqB,IAH0B,EGnV3D,SACL2J,GACiD,IAAD,EACtBrI,mBAAYqI,GADU,mBACzCC,EADyC,KAClCC,EADkC,KAE1CC,EAAW9J,iBAAU2J,GAE3B,MAAO,CACLC,EACA,SAACpL,GAAD,OACEqL,GAAS,SAACE,GACR,IAAMC,EAAwB,oBAANxL,EAAoBA,EAAUuL,GAAavL,EAEnE,OADAsL,EAASzJ,QAAU2J,EACZA,MAEXF,GH0UwCG,EAAY,GALU,mBAKhDC,GALgD,WAKpCC,EALoC,OAM5B7I,mBAAS,CAC3CkH,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,OAAQ,IAVsD,mBAMzDyB,EANyD,KAM7CC,EAN6C,OAahC/I,qBAbgC,mBAazDgJ,EAbyD,KAa/CC,EAb+C,OAcpBjJ,mBAAiB,GAdG,mBAczDkJ,EAdyD,KAczCC,EAdyC,OAe5BnJ,mBAAuB,IAfK,mBAezDoJ,EAfyD,KAe7CC,EAf6C,OAgB9BrJ,oBAAS,GAhBqB,mBAgBzDsJ,EAhByD,KAgB9CC,EAhB8C,KAkB1D5B,EACJmB,EAAW5B,OAAS4B,EAAW3B,IAAM2B,EAAW1B,KAAO0B,EAAWzB,QAClE,EAEImC,EAAWC,sBAAW,uCAC1B,WAAOC,GAAP,mBAAAvO,EAAA,yDACO0N,EAAW9J,WAAW+J,EAAWY,IAAU,GADlD,wDAIEd,GAAW,GACLe,EAASb,EAAWY,GAAS,EALrC,SAMsBzO,EAAgBkN,EAAWyB,MAAOF,IANxD,OAMQhO,EANR,OAOEqN,EAAc,2BAAKD,GAAN,kBAAmBY,EAAQC,KACxCV,EAAYS,GACZL,EAAc3N,GACdyN,EAAkBQ,GAClBJ,GAAa,IAEb,EAAAnB,EAASrJ,SAAQpC,KAAjB,oBAAyBjB,IAb3B,4CAD0B,sDAgB1B,CAACoN,EAAYX,IAGT0B,EAAmBJ,uBACvB,SAACtE,GACKA,GACFoE,GAAa,GACb7I,YAAW,kBAAM8I,EAASR,KAAY,OAEtCO,GAAa,GACbX,GAAW,MAGf,CAACI,EAAUQ,IAGPM,EAAcL,uBAAY,WAC1B9B,GACFV,EAAO,CAAEvL,MAAO0M,EAASrJ,YAE1B,CAACkI,EAAQU,IAkBZ,OAhBA3I,qBAAU,WIhZiB,QJ8ZxB,IAGD,qCACE,eAACuC,EAAD,WACE,eAACC,EAAD,CACEtC,QAAS,CAAEM,QAA8B,GAArBsJ,EAAW5B,OAAc,GAAM,GACnD7G,QAAS,kBAAMmJ,EAAS,WAF1B,UAIE,qBAAK9J,IAAKyI,EAAWyB,MAAO1C,OAAOhL,QACnC,qBAAKkC,UAAU,OAAf,SAAuB+J,EAAWyB,MAAO1C,OAAOxM,OAChD,qBAAK0D,UAAU,QAAf,SAAwB0K,EAAW5B,YAErC,eAAC1F,EAAD,CACEtC,QAAS,CAAEM,QAA2B,GAAlBsJ,EAAW3B,IAAW,GAAM,GAChD9G,QAAS,kBAAMmJ,EAAS,QAF1B,UAIE,qBAAK9J,IAAKyI,EAAWyB,MAAOzC,IAAIjL,QAChC,qBAAKkC,UAAU,OAAf,SAAuB+J,EAAWyB,MAAOzC,IAAIzM,OAC7C,qBAAK0D,UAAU,QAAf,SAAwB0K,EAAW3B,SAErC,eAAC3F,EAAD,CACEtC,QAAS,CAAEM,QAA4B,GAAnBsJ,EAAW1B,KAAY,GAAM,GACjD/G,QAAS,kBAAMmJ,EAAS,SAF1B,UAIE,qBAAK9J,IAAKyI,EAAWyB,MAAOxC,KAAKlL,QACjC,qBAAKkC,UAAU,OAAf,SAAuB+J,EAAWyB,MAAOxC,KAAK1M,OAC9C,qBAAK0D,UAAU,QAAf,SAAwB0K,EAAW1B,UAErC,eAAC5F,EAAD,CACEtC,QAAS,CAAEM,QAA8B,GAArBsJ,EAAWzB,OAAc,GAAM,GACnDhH,QAAS,kBAAMmJ,EAAS,WAF1B,UAIE,qBAAK9J,IAAKyI,EAAWyB,MAAOvC,OAAOnL,QACnC,qBAAKkC,UAAU,OAAf,SAAuB+J,EAAWyB,MAAOvC,OAAO3M,OAChD,qBAAK0D,UAAU,QAAf,SAAwB0K,EAAWzB,eAGvC,cAAC,IAAOhI,IAAR,CACEE,QAAS,CAAEC,QAAS,GACpBN,QAAS,CAAEM,QAASmI,EAAY,EAAI,GAFtC,SAIE,cAAChH,EAAD,CAAQN,QAASyJ,EAAjB,wBAGF,cAAC/I,EAAD,CAAOzC,KAAMgL,EAAWrI,QAAS,kBAAM4I,GAAiB,IAAxD,SACGP,GACC,cAAC/E,GAAD,CAEEtD,QAAS,SAACkE,GAAD,OAAa0E,EAAiB1E,IACvCX,UAAW0E,EACXxN,MAAO0N,EACPlO,IAAKiN,EAAWyB,MAAOZ,IAJlBA,EAAYE,UE5X3B,CAAExO,KAAM,aAAcsM,UDwCjB,YAA0D,IAAtCmB,EAAqC,EAArCA,WAAqC,KAAzBlB,OACKjH,sBADoB,mBACvD+J,EADuD,KACxC9D,EADwC,OAEpCjG,oBAAyB,WACjD,IAAMtE,EAAQyM,EAAW6B,MAAOtO,MAChC,OAAOqB,IAAEkN,QACPvO,EACA,CAAC,SAACG,GAAD,uBAAOf,EAAce,EAAEP,aAAvB,QAAgC,IAAI,QACrC,CAAC,MAAO,QACRM,KAAI,SAACC,GAAD,mBAAC,eAAYA,GAAb,IAAgBwK,QAAQ,UAR8B,mBAEvD3K,EAFuD,KAEhDwO,EAFgD,KAWxDC,EAAWC,mBAAQ,WACvB,IAAMC,EAAY3O,EAAMsM,QAAO,SAACnM,GAAD,OAAQA,EAAEwK,SAAWxK,EAAEE,SAAO4C,OACvD2L,EAAa5O,EAAMsM,QAAO,SAACnM,GAAD,OAAQA,EAAEwK,QAAUxK,EAAEE,SAAO4C,OAC7D,OAAO4B,KAAKgK,IACVhK,KAAKiK,KAAKH,EAAS,IACnB9J,KAAKiK,KAAKF,EAAa,OAExB,CAAC5O,IAEE+O,EAAehB,uBACnB,SAACpL,GACC6L,EACExO,EACGgP,QACA9O,KAAI,SAACC,EAAGkJ,GAAJ,OAAW1G,GAAS0G,EAAT,2BAAkBlJ,GAAlB,IAAqBwK,QAASxK,EAAEwK,SAAWxK,QAGjE,CAACH,IAGGoO,EAAcL,uBAAY,WAW9B,IAVA,IAAMkB,EAAa5N,IAAE6N,MACnBlP,EAAMsM,QAAO,SAACnM,GAAD,OAAQA,EAAEwK,SAAWxK,EAAEE,SACpC,IAEI8O,EAAc9N,IAAE6N,MACpBlP,EAAMsM,QAAO,SAACnM,GAAD,OAAQA,EAAEwK,QAAUxK,EAAEE,SACnC,IAEI+O,EAAO/N,IAAEgO,IAAIJ,EAAYE,GATK,WAW3B9F,GAX2B,kBAYZ+F,EAAK/F,GAZO,GAY3BiG,EAZ2B,KAYrBjP,EAZqB,KAa9BkP,EAAM,kCACN,OAAJD,QAAI,IAAJA,KAAMN,MAAM,EAAG,IAAIQ,SAAQ,SAACrP,GAAD,OAAQoP,GAAG,UAAOpP,EAAEC,GAAT,SACtCmP,GAAO,WACF,OAALlP,QAAK,IAALA,KAAOmP,SAAQ,SAACrP,GAAD,OAAQoP,GAAG,UAAOpP,EAAEC,GAAT,SAC1BmP,GAAO,UACH,OAAJD,QAAI,IAAJA,KAAMN,MAAM,IAAIQ,SAAQ,SAACrP,GAAD,OAAQoP,GAAG,UAAOpP,EAAEC,GAAT,SAEnC4E,YAAW,kBI9KV,SAAsBpE,EAAc5B,GACzC,IAAMM,EAAMmQ,OAAOC,IAAIC,gBACrB,IAAIC,KAAK,CAAChP,GAAO,CAAEhB,KAAM,gBAErBH,EAAIkG,SAASkK,cAAc,KACjCpQ,EAAEmE,MAAM5B,QAAU,OAClBvC,EAAEqQ,KAAOxQ,EACTG,EAAEsQ,SAAW/Q,EACb2G,SAASC,KAAKoK,YAAYvQ,GAC1BA,EAAEwQ,QACFR,OAAOC,IAAIQ,gBAAgB5Q,GAC3B0F,YAAW,kBAAMvF,EAAE0Q,WAAU,GJmKRC,CAAab,EAAD,gBAAelG,EAAI,EAAnB,WAAiC,IAAJA,IATnDA,EAAI,EAAGA,EAAI+F,EAAKnM,OAAQoG,IAAM,EAA9BA,KAWR,CAACrJ,IAEJ,OACE,qCACE,eAAC0J,GAAD,CAAegB,QAAM,EAArB,UACE,cAACf,GAAD,UACE,qBAAKjH,UAAU,QAAf,SACG2L,GAAiB,qBAAKrK,IAAKqK,EAAc7N,YAG9C,cAAC6J,GAAD,CACErK,MAAOA,EACPuK,iBAAkBA,EAClBC,SAAUuE,OAGd,cAAC9E,GAAD,UACE,eAAChF,EAAD,CAAQN,QAASyJ,EAAjB,4BAA8CK,EAA9C,eCvGD,SAAS4B,GAAT,GAAsB,qBACS/L,mBAAqB,IAD/B,mBACnBmI,EADmB,KACP6D,EADO,OAEFhM,mBAAS,GAFP,mBAEnBiM,EAFmB,KAEbC,EAFa,KAI1B,OACE,cAAC,IAAD,UACE,eAAC3F,GAAD,CAASH,QAAM,EAAf,UACE,cAACM,GAAD,CAAOC,SAAUI,GAAMkF,GAAMvR,OAC7B,cAAC8L,GAAD,CAAOJ,QAAM,EAAb,SACE,cAAC,IAAD,CAAiBQ,iBAAiB,EAAMrH,SAAS,EAAjD,SACGwH,GAAMnL,KACL,WAA2BmJ,GAA3B,IAAcoH,EAAd,EAAGnF,UAAH,OACEiF,GAAQlH,GACN,cAAC,IAAO1F,IAAR,CACE+G,QAAM,EAEN7G,QAAQ,UACRL,QAAQ,QACRiC,KAAK,OACLqC,SAAUqD,GANZ,SAQE,cAACsF,EAAD,CACEhE,WAAYA,EACZlB,OAAQ,SAACmF,GACPJ,GACE,SAAC9O,GAAD,oBAAUA,KAAI,OAAS6H,EAAIqH,MAE7BF,EAAQnH,EAAI,OAZX,qBIvGzB,IAYesH,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACjB,GAAD,MAEF1K,SAAS4L,eAAe,SAG1BZ,O","file":"static/js/main.1ec13d73.chunk.js","sourcesContent":["export const dataModernWheel = [\n  \"Breakers of Shadow\",\n  \"Wing Raiders\",\n  \"Shining Victories\",\n  \"The Dark Illusion\",\n  \"Invasion: Vengeance\",\n  \"Destiny Soldiers\",\n  \"Raging Tempest\",\n  \"Fusion Enforcers\",\n  \"Maximum Crisis\",\n  \"Pendulum Evolution\",\n  \"Code of the Duelist\",\n  \"Spirit Warriors\",\n  \"Circuit Break\",\n  \"Extreme Force\",\n  \"Flames of Destruction\",\n  \"Dark Saviors\",\n  \"Cybernetic Horizon\",\n  \"Shadows in Valhalla\",\n  \"Soul Fusion\",\n  \"Hidden Summoners\",\n  \"Savage Strike\",\n  \"The Infinity Chasers\",\n  \"Duel Power\",\n  \"Dark Neostorm\",\n  \"Rising Rampage\",\n  \"Fists of the Gadgets\",\n  \"Chaos Impact\",\n  \"Mystic Fighters\",\n  \"Ignition Assault\",\n  \"Duel Overload\",\n  \"Secret Slayers\",\n  \"Eternity Code\",\n  \"Toon Chaos\",\n  \"Rise of the Duelist\",\n  \"Phantom Rage\",\n  \"Genesis Impact\",\n];\n\nexport const dataOldWheel = [\n  \"The Legend of Blue Eyes White Dragon\",\n  \"Metal Raiders\",\n  \"Magic Ruler\",\n  \"Pharaoh's Servant\",\n  \"Labyrinth of Nightmare\",\n  \"Legacy of Darkness\",\n  \"Pharaonic Guardian\",\n  \"Magician's Force\",\n  \"Dark Crisis\",\n  \"Invasion of Chaos\",\n  \"Ancient Sanctuary\",\n  \"Soul of the Duelist\",\n  \"Rise of Destiny\",\n  \"Flaming Eternity\",\n  \"The Lost Millennium\",\n  \"Cybernetic Revolution\",\n  \"Elemental Energy\",\n  \"Shadow of Infinity\",\n  \"Enemy of Justice\",\n  \"Power of the Duelist\",\n  \"Cyberdark Impact\",\n  \"Strike of Neos\",\n  \"Force of the Breaker\",\n  \"Tactical Evolution\",\n  \"Gladiator's Assault\",\n  \"Phantom Darkness\",\n  \"Light of Destruction\",\n  \"The Duelist Genesis\",\n  \"Crossroads of Chaos\",\n  \"Crimson Crisis\",\n  \"Raging Battle\",\n  \"Ancient Prophecy\",\n  \"Stardust Overdrive\",\n  \"Absolute Powerforce\",\n  \"The Shining Darkness\",\n  \"Duelist Revolution\",\n  \"Starstrike Blast\",\n  \"Storm of Ragnarok\",\n  \"Extreme Victory\",\n  \"Generation Force\",\n  \"Photon Shockwave\",\n  \"Order of Chaos\",\n  \"Galactic Overlord\",\n  \"Return of the Duelist\",\n  \"Abyss Rising\",\n  \"Cosmo Blazer\",\n  \"Lord of the Tachyon Galaxy\",\n  \"Judgment of the Light\",\n  \"Shadow Specters\",\n  \"Legacy of the Valiant\",\n  \"Primal Origin\",\n  \"Duelist Alliance\",\n  \"The New Challengers\",\n  \"Secrets of Eternity\",\n  \"Crossed Souls\",\n  \"Clash of Rebellions\",\n  \"Dimension of Chaos\",\n  \"The Secret Forces\",\n  \"High-Speed Riders\",\n];\n\nexport const dataMegaWheel = [\n  \"2014 Mega-Tin Mega Pack\",\n  \"2015 Mega-Tin Mega Pack\",\n  \"2016 Mega-Tin Mega Pack\",\n  \"2017 Mega-Tin Mega Pack\",\n  \"2018 Mega-Tin Mega Pack\",\n  \"2019 Gold Sarcophagus Tin Mega Pack\",\n  \"2020 Tin of Lost Memories Mega Pack\",\n  \"Ra Yellow Mega Pack\",\n  \"Legendary Collection 2\",\n  \"Legendary Collection 3: Yugi's World\",\n  \"Legendary Collection 4: Joey's World\",\n  \"Legendary Collection 5D's\",\n  \"Legendary Collection Kaiba\",\n];\n\nexport const dataBattleWheel = [\n  \"Battle Pack: Epic Dawn\",\n  \"Battle Pack 2: War of the Giants\",\n  \"Battle Pack 3: Monster League\",\n];\n\nexport const rarityMap: Record<string, any> = {\n  Common: {\n    name: \"Common\",\n    abbr: \"N\",\n  },\n  \"Short Print\": {\n    name: \"Short Print\",\n    abbr: \"NR\",\n  },\n  Rare: {\n    name: \"Rare\",\n    abbr: \"R\",\n  },\n  \"Gold rare\": {\n    name: \"Gold rare\",\n    abbr: \"GUR\",\n  },\n  \"Ghost/Gold rare\": {\n    name: \"Ghost/Gold rare\",\n    abbr: \"GGR\",\n  },\n  \"Super Rare\": {\n    name: \"Super Rare\",\n    abbr: \"SR\",\n  },\n  \"Ultra Rare\": {\n    name: \"Ultra Rare\",\n    abbr: \"UR\",\n  },\n  \"Secret Rare\": {\n    name: \"Secret Rare\",\n    abbr: \"ScR\",\n  },\n  \"Prismatic Secret Rare\": {\n    name: \"Prismatic Secret Rare\",\n    abbr: \"PScR\",\n  },\n  \"Ultimate Rare\": {\n    name: \"Ultimate Rare\",\n    abbr: \"UtR\",\n  },\n  \"Collector's Rare\": {\n    name: \"Collector's Rare\",\n    abbr: \"CR\",\n  },\n  \"Starlight Rare\": {\n    name: \"Starlight Rare\",\n    abbr: \"StR\",\n  },\n  \"10000 Secret Rare\": {\n    name: \"10000 Secret Rare\",\n    abbr: \"10000ScR\",\n  },\n};\n\nexport const cardTypesExtra = [\n  \"Fusion Monster\",\n  \"Link Monster\",\n  \"Pendulum Effect Fusion Monster\",\n  \"Synchro Monster\",\n  \"Synchro Pendulum Effect Monster\",\n  \"Synchro Tuner Monster\",\n  \"XYZ Monster\",\n  \"XYZ Pendulum Effect Monster\",\n];\n\nexport const cardTypesSort: Record<string, number> = {\n  \"Effect Monster\": 2,\n  \"Flip Effect Monster\": 2,\n  \"Flip Tuner Effect Monster\": 2,\n  \"Gemini Monster\": 2,\n  \"Normal Monster\": 1,\n  \"Normal Tuner Monster\": 1,\n  \"Pendulum Effect Monster\": 2,\n  \"Pendulum Flip Effect Monster\": 2,\n  \"Pendulum Normal Monster\": 1,\n  \"Pendulum Tuner Effect Monster\": 2,\n  \"Ritual Effect Monster\": 2,\n  \"Ritual Monster\": 2,\n  \"Skill Card\": 5,\n  \"Spell Card\": 3,\n  \"Spirit Monster\": 2,\n  \"Toon Monster\": 2,\n  \"Trap Card\": 4,\n  \"Tuner Monster\": 2,\n  \"Union Effect Monster\": 2,\n  \"Fusion Monster\": 10,\n  \"Link Monster\": 13,\n  \"Pendulum Effect Fusion Monster\": 10,\n  \"Synchro Monster\": 11,\n  \"Synchro Pendulum Effect Monster\": 11,\n  \"Synchro Tuner Monster\": 11,\n  \"XYZ Monster\": 12,\n  \"XYZ Pendulum Effect Monster\": 12,\n};\n","import _ from \"lodash\";\nimport { cardTypesExtra, rarityMap } from \"../data\";\n\nexport interface YugiohSetKind {\n  name: string;\n  sets: YugiohSet[];\n}\nexport interface YugiohSet {\n  name: string;\n  set: string;\n  type: number;\n  image: string;\n}\nexport interface YugiohCard {\n  id: number;\n  name: string;\n  extra: boolean;\n  type: string;\n  rarity: string;\n  image: string;\n}\n\nexport function corsUrl(url: string) {\n  return `https://n1xx1-cors-everywhere.herokuapp.com/${url}`;\n}\n\nexport async function serviceOpenPack(set: YugiohSet) {\n  const baseYpd = `https://db.ygoprodeck.com/queries/pack-opener/pack-open.php`;\n  const encodedName = encodeURIComponent(set.name);\n  const url = `${baseYpd}?format=${encodedName}&settype=${set.type}`;\n\n  const resp = await fetch(corsUrl(url));\n  const cards = (await resp.json())[0];\n\n  const ret: YugiohCard[] = cards.map((c: any) => ({\n    id: c.id,\n    name: c.name,\n    extra: cardTypesExtra.includes(c.type),\n    type: c.type,\n    rarity: rarityMap[c.rarity]?.abbr ?? c.rarity,\n    image: `https://storage.googleapis.com/ygoprodeck.com/pics/${c.id}.jpg`,\n  }));\n  return ret;\n}\n\nexport async function serviceGetAllSets() {\n  const res = await fetch(corsUrl(\"https://db.ygoprodeck.com/pack-open/\"));\n  const data = await res.text();\n  const regex = /startgame\\('(.*?)', '(\\d+)'\\).*?<img data-src=\"(.*?)\"(?<=<h2 style=\"align:center\" id=\"(.*?)\">(.*?)<\\/h2>[\\s\\S]*?)/g;\n  const results: {\n    name: string;\n    type: number;\n    image: string;\n    kind: string;\n    kindId: string;\n  }[] = [];\n\n  let match;\n  while ((match = regex.exec(data)) !== null) {\n    results.push({\n      name: match[1],\n      type: parseInt(match[2]),\n      image: match[3],\n      kindId: match[4],\n      kind: match[5],\n    });\n  }\n\n  const ret: Record<string, YugiohSetKind> = _.mapValues(\n    _.groupBy(results, \"kindId\"),\n    (v, k) => ({\n      name: v[0].kind,\n      sets: v.map((v1) => ({\n        set: k,\n        name: v1.name.replace(/\\\\'/g, \"'\"),\n        type: v1.type,\n        image: v1.image,\n      })),\n    })\n  );\n  return ret;\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"@emotion/styled/macro\";\nimport { animate, motion, useMotionValue, useTransform } from \"framer-motion\";\nimport { wrap } from \"popmotion\";\nimport { YugiohSet } from \"../utils/yugioh\";\n\nconst cardHeight = 300;\nconst cardWidth = 160;\n\nconst WheelContainer = styled.div({\n  overflow: \"hidden\",\n  display: \"flex\",\n  flexFlow: \"column nowrap\",\n  position: \"relative\",\n\n  width: cardWidth,\n  height: cardHeight,\n\n  \">.inner\": {\n    position: \"absolute\",\n  },\n});\n\nconst WheelEntry = styled.div({\n  position: \"relative\",\n  width: cardWidth,\n  height: cardHeight,\n  backgroundColor: \"#fff\",\n\n  \">img\": {\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(0, -50%)\",\n    width: cardWidth,\n  },\n});\n\ninterface WheelProps {\n  className?: string;\n  sets: YugiohSet[];\n  index: number;\n  show?: boolean;\n  downwards?: boolean;\n}\ninterface WheelProps {\n  className?: string;\n  sets: YugiohSet[];\n  index: number;\n  show?: boolean;\n  downwards?: boolean;\n}\n\nfunction Wheel({ className, sets, index, show }: WheelProps) {\n  const yPos = useMotionValue(cardHeight);\n  const wrapNum = useRef(sets.length * cardHeight);\n  const y = useTransform(yPos, (y) => wrap(0, -wrapNum.current, y));\n\n  wrapNum.current = sets.length * cardHeight;\n\n  useEffect(() => {\n    if (show) {\n      const toPos = -(1 + index) * cardHeight;\n      yPos.set(toPos - cardHeight * 40);\n      animate(yPos, toPos, {\n        type: \"tween\",\n        ease: [0.32, 0, 0, 1],\n        duration: 6,\n      });\n    }\n  }, [show, index, yPos]);\n\n  return (\n    <WheelContainer className={className}>\n      <motion.div\n        className=\"inner\"\n        style={{ y }}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: show ? 1 : 0 }}\n      >\n        {sets.length > 0 && (\n          <WheelEntry>\n            <img\n              alt={sets[sets.length - 1].name}\n              src={sets[sets.length - 1].image}\n            />\n          </WheelEntry>\n        )}\n        {sets.map((e) => (\n          <WheelEntry key={e.name}>\n            <img alt={e.name} src={e.image} />\n          </WheelEntry>\n        ))}\n        {sets.length > 0 && (\n          <WheelEntry>\n            <img alt={sets[0].name} src={sets[0].image} />\n          </WheelEntry>\n        )}\n      </motion.div>\n    </WheelContainer>\n  );\n}\n\nconst WheelWrapper = styled.div({\n  position: \"relative\",\n  display: \"flex\",\n  flexFlow: \"column\",\n  alignItems: \"center\",\n  width: 220,\n\n  \">.wheel\": {\n    position: \"relative\",\n    zIndex: 5,\n    marginTop: 8,\n  },\n  \">.name\": {\n    fontWeight: \"bold\",\n    fontSize: 20,\n    textAlign: \"center\",\n  },\n  \">.spin\": {\n    position: \"absolute\",\n    zIndex: 1,\n    top: \"50%\",\n    marginTop: \"-1em\",\n    height: \"2em\",\n    left: 0,\n    width: \"100%\",\n    textAlign: \"center\",\n    fontSize: 20,\n  },\n  \">.result\": {\n    marginTop: 8,\n    fontSize: 20,\n    textAlign: \"center\",\n    height: \"3em\",\n  },\n});\n\nexport interface WheelChooserProps {\n  name: string;\n  wheel: YugiohSet[];\n  onIndexChange: (index: number) => void;\n}\n\nexport function WheelChooser({\n  name,\n  wheel,\n  onIndexChange,\n}: WheelChooserProps) {\n  const [index, setIndex] = useState(0);\n  const [showName, setShowName] = useState(false);\n  const [show, setShow] = useState(false);\n\n  return (\n    <WheelWrapper\n      onClick={() => {\n        if (!show) {\n          const choice = Math.floor(Math.random() * wheel.length);\n          setIndex(choice);\n          setShow(true);\n          setTimeout(() => {\n            setShowName(true);\n            onIndexChange(choice);\n          }, 6000);\n        }\n      }}\n    >\n      <div className=\"name\">{name}</div>\n      <Wheel className=\"wheel\" show={show} sets={wheel} index={index} />\n      <div className=\"spin\">Spin!</div>\n      <motion.div\n        className=\"result\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: showName ? 1 : 0 }}\n      >\n        {wheel[index]?.name ?? \" \"}\n      </motion.div>\n    </WheelWrapper>\n  );\n}\n","import styled from \"@emotion/styled/macro\";\n\nexport const Button = styled.button({\n  outline: 0,\n  border: 0,\n  padding: \"5px 20px\",\n  fontSize: 18,\n  margin: \"20px auto 0\",\n  display: \"block\",\n  backgroundColor: \"#b2591a\",\n  color: \"#fff\",\n  transition: \"background-color 200ms ease\",\n\n  \"&:hover\": {\n    backgroundColor: \"#7a4017\",\n  },\n});\n","import React, { useEffect, useState } from \"react\";\nimport {\n  dataBattleWheel,\n  dataMegaWheel,\n  dataModernWheel,\n  dataOldWheel,\n} from \"../data\";\nimport { serviceGetAllSets, YugiohSet } from \"../utils/yugioh\";\nimport { WheelChooser } from \"./wheel\";\nimport { motion } from \"framer-motion\";\nimport styled from \"@emotion/styled/macro\";\nimport _ from \"lodash\";\nimport { Button } from \"./button\";\nimport { skipStepWheels } from \"../config\";\n\nconst Wheels = styled.div({\n  flex: 1,\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"space-around\",\n});\n\nexport interface StepWheelsResult {\n  modern: YugiohSet;\n  old: YugiohSet;\n  mega: YugiohSet;\n  battle: YugiohSet;\n}\n\nexport interface StepWheelsProps {\n  onDone(result: StepWheelsResult): void;\n}\n\nexport function StepWheels({ onDone }: StepWheelsProps) {\n  const [indexes, setIndexes] = useState({\n    modern: -1,\n    old: -1,\n    mega: -1,\n    battle: -1,\n  });\n\n  const [wheelData, setWheelData] = useState<{\n    modern: YugiohSet[];\n    old: YugiohSet[];\n    mega: YugiohSet[];\n    battle: YugiohSet[];\n  } | null>(null);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const completed =\n    indexes.modern >= 0 &&\n    indexes.old >= 0 &&\n    indexes.mega >= 0 &&\n    indexes.battle >= 0;\n\n  return (\n    <>\n      <Wheels>\n        <WheelChooser\n          name=\"Modern\"\n          wheel={wheelData?.modern ?? []}\n          onIndexChange={(index) =>\n            setIndexes((i) => ({ ...i, modern: index }))\n          }\n        />\n        <WheelChooser\n          name=\"Old\"\n          wheel={wheelData?.old ?? []}\n          onIndexChange={(index) => setIndexes((i) => ({ ...i, old: index }))}\n        />\n        <WheelChooser\n          name=\"Mega\"\n          wheel={wheelData?.mega ?? []}\n          onIndexChange={(index) => setIndexes((i) => ({ ...i, mega: index }))}\n        />\n        <WheelChooser\n          name=\"Battle\"\n          wheel={wheelData?.battle ?? []}\n          onIndexChange={(index) =>\n            setIndexes((i) => ({ ...i, battle: index }))\n          }\n        />\n      </Wheels>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: completed ? 1 : 0 }}\n      >\n        <Button onClick={handleClick}>Continue</Button>\n      </motion.div>\n    </>\n  );\n\n  function handleClick() {\n    if (completed) {\n      onDone({\n        modern: wheelData!.modern[indexes.modern],\n        old: wheelData!.old[indexes.old],\n        mega: wheelData!.mega[indexes.mega],\n        battle: wheelData!.battle[indexes.battle],\n      });\n    }\n  }\n\n  async function loadData() {\n    const ocgSets = [\n      \"ocg_boosters\",\n      \"ocg_boosters_series1\",\n      \"ocg_boosters_volume1\",\n    ];\n    const sets = await serviceGetAllSets();\n    const allSets = _.flatMap(sets, (s) => s.sets).filter(\n      (s) => !ocgSets.includes(s.set)\n    );\n\n    setWheelData({\n      modern: dataModernWheel.map((w) => allSets.find((s) => s.name === w)!),\n      old: dataOldWheel.map((w) => allSets.find((s) => s.name === w)!),\n      mega: dataMegaWheel.map((w) => allSets.find((s) => s.name === w)!),\n      battle: dataBattleWheel.map((w) => allSets.find((s) => s.name === w)!),\n    });\n\n    if (skipStepWheels) {\n      setIndexes({\n        modern: Math.floor(Math.random() * dataModernWheel.length),\n        old: Math.floor(Math.random() * dataOldWheel.length),\n        mega: Math.floor(Math.random() * dataMegaWheel.length),\n        battle: Math.floor(Math.random() * dataBattleWheel.length),\n      });\n    }\n  }\n}\n","import styled from \"@emotion/styled/macro\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport React, { ReactNode } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst ModalContainer = styled(motion.div)({\n  position: \"absolute\",\n  overflow: \"hidden\",\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n});\n\nexport interface ModalProps {\n  show: boolean;\n  onClose: () => void;\n  children?: ReactNode;\n}\n\nexport function Modal({ show, children, onClose }: ModalProps) {\n  return createPortal(\n    <AnimatePresence>\n      {show && (\n        <ModalContainer\n          onClick={() => onClose()}\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          <div onClick={(e) => e.stopPropagation()}>{children}</div>\n        </ModalContainer>\n      )}\n    </AnimatePresence>,\n    document.body\n  );\n}\n","import React, {\n  MouseEvent,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled from \"@emotion/styled/macro\";\nimport { StepValues } from \"./app\";\nimport { motion, Variants } from \"framer-motion\";\nimport { Button } from \"./button\";\nimport { Modal } from \"./modal\";\nimport { serviceOpenPack, YugiohCard, YugiohSet } from \"../utils/yugioh\";\nimport { skipStepPacks } from \"../config\";\nimport { delay } from \"../utils/delay\";\nimport { useStateRef } from \"../utils/hooks\";\n\nconst PacksContainer = styled.div({\n  display: \"flex\",\n  padding: 20,\n  justifyContent: \"space-around\",\n});\n\nconst PacksInfo = styled(motion.div)({\n  display: \"flex\",\n  flexFlow: \"column\",\n  width: 180,\n  alignItems: \"center\",\n\n  \">img\": {\n    height: 200,\n  },\n  \">.name\": {\n    paddingTop: 5,\n    fontSize: 16,\n    textAlign: \"center\",\n    height: \"3em\",\n  },\n  \">.count\": {\n    paddingTop: 5,\n    fontSize: 20,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n});\n\nconst cardRatio = 421 / 614;\nconst packRatio = 278 / 500;\n\nconst CardModalContainer = styled.div({\n  position: \"relative\",\n  overflow: \"hidden\",\n  padding: 20,\n  backgroundColor: \"#fff\",\n\n  \">.name\": {\n    width: 300,\n    fontSize: 20,\n    textAlign: \"center\",\n  },\n});\n\nconst CardModalOpenContainer = styled.div({\n  position: \"relative\",\n  margin: \"5px auto 0\",\n  width: 230,\n  height: 230 / packRatio,\n\n  \">.card\": {\n    position: \"absolute\",\n    zIndex: 2,\n    width: 200,\n    height: 200 / cardRatio,\n    top: \"50%\",\n    left: \"50%\",\n    marginLeft: -100,\n    marginTop: -(100 / cardRatio),\n\n    \">div\": {\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      display: \"block\",\n      boxShadow: \"0 0 3px rgba(0, 0, 0, 0.3)\",\n\n      \">img\": {\n        position: \"relative\",\n        zIndex: 2,\n        width: \"100%\",\n        height: \"100%\",\n        display: \"block\",\n      },\n    },\n  },\n});\n\nconst CardModalOpenCover = styled.div({\n  position: \"relative\",\n  width: 230,\n  height: 230 / packRatio,\n\n  \">.bot\": {\n    position: \"absolute\",\n    zIndex: 100,\n    top: 30,\n    left: 0,\n    width: \"100%\",\n    height: `${230 / packRatio - 30}px`,\n    backgroundSize: `${230}px ${230 / packRatio}px`,\n    backgroundPosition: \"bottom center\",\n  },\n  \">.top\": {\n    position: \"absolute\",\n    zIndex: 100,\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    height: 30,\n    backgroundSize: `${230}px ${230 / packRatio}px`,\n    backgroundPosition: \"top center\",\n  },\n});\n\nconst CardModalBase = styled.div({\n  position: \"absolute\",\n  zIndex: 1,\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  display: \"flex\",\n  flexFlow: \"column\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n\n  \">button:first-of-type\": {\n    marginBottom: 10,\n  },\n});\n\nconst CardRarityContainer = styled(motion.div)({\n  zIndex: 1,\n  position: \"absolute\",\n  top: -6,\n  left: -6,\n  right: -6,\n  bottom: -6,\n  border: \"3px solid transparent\",\n\n  \">div\": {\n    zIndex: 1,\n    position: \"absolute\",\n    right: -3,\n    top: -23,\n    height: 20,\n    padding: \"0 10px\",\n    borderTopLeftRadius: 10,\n    fontSize: 16,\n    fontWeight: \"bold\",\n    lineHeight: \"20px\",\n    color: \"#fff\",\n    textShadow: \"0 0 5px rgba(0, 0, 0, 0.7)\",\n  },\n});\n\nconst cardRarityContainerVariants: Variants = {\n  initial: { opacity: 0 },\n  shown: { opacity: 1, transition: { delay: 1, duration: 1 } },\n};\n\ninterface CardRarityProps {\n  rarity: string;\n  show: boolean;\n}\n\nfunction CardRarity({ rarity, show }: CardRarityProps) {\n  let rarityColor: string[];\n  if (rarity === \"R\") {\n    rarityColor = [\"#44b9e4\", \"#1954a8\"];\n  } else if (rarity === \"SR\") {\n    rarityColor = [\"#43eb5e\", \"#19a820\"];\n  } else if (rarity === \"ScR\") {\n    rarityColor = [\"#7243eb\", \"#a8198b\", \"#a8192f\"];\n  } else if (rarity === \"PScR\") {\n    rarityColor = [\"#7243eb\", \"#a8198b\", \"#a8192f\"];\n  } else if (rarity === \"UR\") {\n    rarityColor = [\"#521bba\", \"#c41bcc\", \"#ee760e\"];\n  } else if (rarity === \"UtR\") {\n    rarityColor = [\"#521bba\", \"#c41bcc\", \"#ee760e\"];\n  } else if (rarity === \"CR\") {\n    rarityColor = [\"#e6624e\", \"#d10b0b\", \"#940909\"];\n  } else {\n    rarityColor = [\"#adadad\", \"#555555\"];\n  }\n\n  return (\n    <CardRarityContainer\n      variants={cardRarityContainerVariants}\n      animate={show ? \"shown\" : \"initial\"}\n      style={{ borderColor: rarityColor[rarityColor.length - 1] }}\n    >\n      <div\n        style={{\n          background: `linear-gradient(to bottom, ${rarityColor.join(\", \")})`,\n        }}\n      >\n        {rarity}\n      </div>\n    </CardRarityContainer>\n  );\n}\n\nconst coverTopVariants: Variants = {\n  initial: {},\n  anim1: { y: -10, transition: { delay: 0, duration: 0.5 } },\n  anim2: {\n    opacity: 0,\n    rotate: 20,\n    x: 100,\n    transition: { delay: 0.5, duration: 0.5 },\n  },\n  anim3: { display: \"none\", transition: { delay: 1 } },\n};\nconst coverBotVariants: Variants = {\n  initial: {},\n  anim1: {\n    y: 230 / packRatio,\n    rotate: -5,\n    opacity: 0,\n    transition: { delay: 0.5, duration: 0.5 },\n  },\n  anim3: { display: \"none\", transition: { delay: 1 } },\n};\nconst cardVariants: Variants = {\n  initial: {},\n  top: {\n    scale: 1.1,\n    transition: { delay: 1 },\n  },\n  out1: {\n    x: -230,\n    rotate: -10,\n    transition: { duration: 1 },\n    opacity: 0,\n  },\n  out2: { display: \"none\", transition: { delay: 1 } },\n};\n\nexport interface CardModalProps {\n  cards: YugiohCard[];\n  set: YugiohSet;\n  remaining: number;\n  onClose: (another: boolean) => void;\n}\n\nexport function CardModal({ cards, set, remaining, onClose }: CardModalProps) {\n  const [coverRemoved, setCoverRemoved] = useState(false);\n  const [viewedIndex, setViewedIndex] = useState(-1);\n  const interactiveRef = useRef(true);\n\n  return (\n    <CardModalContainer onClick={handleClick}>\n      <div className=\"name\">{set.name}</div>\n      <CardModalOpenContainer>\n        <CardModalBase>\n          {remaining > 0 && (\n            <Button onClick={(e) => handleClose(e, true)}>Open Another</Button>\n          )}\n          <Button onClick={(e) => handleClose(e, false)}>Close</Button>\n        </CardModalBase>\n        {coverRemoved &&\n          cards.map((c, i) => {\n            const visible = viewedIndex === i;\n            const hidden = viewedIndex > i;\n\n            return (\n              <motion.div\n                animate={\n                  visible ? \"top\" : hidden ? [\"out1\", \"out2\"] : \"initial\"\n                }\n                variants={cardVariants}\n                className=\"card\"\n                key={c.id}\n                style={{ zIndex: 10 + cards.length - i }}\n              >\n                <div style={{ marginTop: (cards.length / 2 - i) * 4 }}>\n                  <CardRarity rarity={c.rarity} show={visible || hidden} />\n                  <img src={c.image} alt={c.name} />\n                </div>\n              </motion.div>\n            );\n          })}\n        <CardModalOpenCover>\n          <motion.div\n            className=\"top\"\n            animate={coverRemoved ? [\"anim1\", \"anim2\", \"anim3\"] : \"initial\"}\n            variants={coverTopVariants}\n            style={{ backgroundImage: `url(${set.image})` }}\n          />\n          <motion.div\n            className=\"bot\"\n            animate={coverRemoved ? [\"anim1\", \"anim3\"] : \"initial\"}\n            variants={coverBotVariants}\n            style={{ backgroundImage: `url(${set.image})` }}\n          />\n        </CardModalOpenCover>\n      </CardModalOpenContainer>\n    </CardModalContainer>\n  );\n\n  function handleClose(e: MouseEvent, another: boolean) {\n    e.stopPropagation();\n    onClose(another);\n  }\n\n  function handleClick() {\n    if (!interactiveRef.current) {\n      return;\n    }\n    if (!coverRemoved) {\n      interactiveRef.current = false;\n      setCoverRemoved(true);\n      setTimeout(() => setViewedIndex(0), 500);\n      setTimeout(() => (interactiveRef.current = true), 1000);\n    } else if (viewedIndex < cards.length) {\n      interactiveRef.current = false;\n      setViewedIndex(viewedIndex + 1);\n      setTimeout(() => (interactiveRef.current = true), 500);\n    }\n  }\n}\n\nexport interface StepPacksResult {\n  cards: YugiohCard[];\n}\n\nexport interface StepPacksProps {\n  stepValues: StepValues;\n  onDone(result: StepPacksResult): void;\n}\n\nexport function StepPacks({ onDone, stepValues }: StepPacksProps) {\n  type SetIds = keyof typeof remainings;\n\n  const cardsRef = useRef<YugiohCard[]>([]);\n\n  const [loading, setLoading, loadingRef] = useStateRef(false);\n  const [remainings, setRemainings] = useState({\n    modern: 5,\n    old: 5,\n    mega: 5,\n    battle: 5,\n  });\n\n  const [modalSet, setModalSet] = useState<SetIds>();\n  const [modalRemaining, setModalRemaining] = useState<number>(0);\n  const [modalCards, setModalCards] = useState<YugiohCard[]>([]);\n  const [modalShow, setModalShow] = useState(false);\n\n  const completed =\n    remainings.modern + remainings.old + remainings.mega + remainings.battle <=\n    0;\n\n  const loadPack = useCallback(\n    async (setId: SetIds) => {\n      if (!loadingRef.current && remainings[setId] <= 0) {\n        return;\n      }\n      setLoading(true);\n      const setRem = remainings[setId] - 1;\n      const cards = await serviceOpenPack(stepValues.step0![setId]);\n      setRemainings({ ...remainings, [setId]: setRem });\n      setModalSet(setId);\n      setModalCards(cards);\n      setModalRemaining(setRem);\n      setModalShow(true);\n\n      cardsRef.current.push(...cards);\n    },\n    [remainings, stepValues]\n  );\n\n  const handleModalClose = useCallback(\n    (another: boolean) => {\n      if (another) {\n        setModalShow(false);\n        setTimeout(() => loadPack(modalSet!), 500);\n      } else {\n        setModalShow(false);\n        setLoading(false);\n      }\n    },\n    [modalSet, loadPack]\n  );\n\n  const handleClick = useCallback(() => {\n    if (completed) {\n      onDone({ cards: cardsRef.current });\n    }\n  }, [onDone, completed]);\n\n  useEffect(() => {\n    if (skipStepPacks && !completed) {\n      (async () => {\n        const sets: SetIds[] = [\"modern\", \"old\", \"mega\", \"battle\"];\n        for (const setId of sets) {\n          for (let i = 0; i < 5; i++) {\n            const cards = await serviceOpenPack(stepValues.step0![setId]);\n            cardsRef.current.push(...cards);\n            setRemainings((r) => ({ ...r, [setId]: r[setId] - 1 }));\n            await delay(50);\n          }\n        }\n      })();\n    }\n  }, []);\n\n  return (\n    <>\n      <PacksContainer>\n        <PacksInfo\n          animate={{ opacity: remainings.modern == 0 ? 0.5 : 1 }}\n          onClick={() => loadPack(\"modern\")}\n        >\n          <img src={stepValues.step0!.modern.image} />\n          <div className=\"name\">{stepValues.step0!.modern.name}</div>\n          <div className=\"count\">{remainings.modern}</div>\n        </PacksInfo>\n        <PacksInfo\n          animate={{ opacity: remainings.old == 0 ? 0.5 : 1 }}\n          onClick={() => loadPack(\"old\")}\n        >\n          <img src={stepValues.step0!.old.image} />\n          <div className=\"name\">{stepValues.step0!.old.name}</div>\n          <div className=\"count\">{remainings.old}</div>\n        </PacksInfo>\n        <PacksInfo\n          animate={{ opacity: remainings.mega == 0 ? 0.5 : 1 }}\n          onClick={() => loadPack(\"mega\")}\n        >\n          <img src={stepValues.step0!.mega.image} />\n          <div className=\"name\">{stepValues.step0!.mega.name}</div>\n          <div className=\"count\">{remainings.mega}</div>\n        </PacksInfo>\n        <PacksInfo\n          animate={{ opacity: remainings.battle == 0 ? 0.5 : 1 }}\n          onClick={() => loadPack(\"battle\")}\n        >\n          <img src={stepValues.step0!.battle.image} />\n          <div className=\"name\">{stepValues.step0!.battle.name}</div>\n          <div className=\"count\">{remainings.battle}</div>\n        </PacksInfo>\n      </PacksContainer>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: completed ? 1 : 0 }}\n      >\n        <Button onClick={handleClick}>Continue</Button>\n      </motion.div>\n\n      <Modal show={modalShow} onClose={() => handleModalClose(false)}>\n        {modalShow && (\n          <CardModal\n            key={modalSet! + modalRemaining}\n            onClose={(another) => handleModalClose(another)}\n            remaining={modalRemaining}\n            cards={modalCards}\n            set={stepValues.step0![modalSet!]}\n          />\n        )}\n      </Modal>\n    </>\n  );\n}\n","import React, {\r\n  CSSProperties,\r\n  Dispatch,\r\n  memo,\r\n  ReactNode,\r\n  SetStateAction,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport styled from \"@emotion/styled/macro\";\r\nimport { StepValues } from \"./app\";\r\nimport { Button } from \"./button\";\r\nimport _ from \"lodash\";\r\nimport { cardTypesSort } from \"../data\";\r\nimport { motion, Variants } from \"framer-motion\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { YugiohCard } from \"../utils/yugioh\";\r\nimport { downloadFile } from \"../utils/download-file\";\r\n\r\nconst cardRatio = 421 / 614;\r\n\r\nconst ViewContainer = styled(motion.div)({\r\n  display: \"flex\",\r\n  flexFlow: \"row wrap\",\r\n  marginTop: -20,\r\n});\r\n\r\nconst DetailContainer = styled.div({\r\n  flex: \"0 0 auto\",\r\n  width: 300,\r\n  display: \"flex\",\r\n  flexFlow: \"column\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n\r\n  \">.image\": {\r\n    width: 280,\r\n    height: 280 / cardRatio,\r\n\r\n    \">img\": {\r\n      display: \"block\",\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n    },\r\n  },\r\n});\r\n\r\nconst CardsContainer = styled(motion.div)({\r\n  flex: \"1 1 0%\",\r\n  overflow: \"auto\",\r\n  display: \"flex\",\r\n  flexFlow: \"row wrap\",\r\n  maxHeight: 500,\r\n  justifyContent: \"center\",\r\n  padding: \"20px 0\",\r\n\r\n  \">img\": {\r\n    flex: \"0 0 auto\",\r\n    width: 50,\r\n    height: 50 / cardRatio,\r\n    margin: 5,\r\n  },\r\n});\r\n\r\nconst ButtonsContainer = styled.div({\r\n  display: \"flex\",\r\n  flexFlow: \"row wrap\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nexport interface StepViewProps {\r\n  stepValues: StepValues;\r\n  onDone(): void;\r\n}\r\n\r\nconst cardsViewVariants: Variants = {\r\n  hidden: { opacity: 0 },\r\n  show: { opacity: 1, transition: { staggerChildren: 0.05 } },\r\n};\r\nconst cardVariants: Variants = {\r\n  hidden: { opacity: 0 },\r\n  show: { opacity: 1 },\r\n  ignored: { opacity: 0.5 },\r\n};\r\n\r\ninterface CardListCard extends YugiohCard {\r\n  ignore: boolean;\r\n}\r\n\r\ninterface CardListProps {\r\n  cards: CardListCard[];\r\n  setCurrentDetail: Dispatch<SetStateAction<YugiohCard | undefined>>;\r\n  onIgnore(index: number): void;\r\n}\r\n\r\nconst CardList = memo(\r\n  ({ cards, setCurrentDetail, onIgnore }: CardListProps) => {\r\n    return (\r\n      <CardsContainer\r\n        variants={cardsViewVariants}\r\n        initial=\"hidden\"\r\n        animate=\"show\"\r\n      >\r\n        {cards.map((c, i) => (\r\n          <motion.img\r\n            layout\r\n            variants={cardVariants}\r\n            key={i}\r\n            src={c.image}\r\n            animate={c.ignore ? \"ignored\" : \"show\"}\r\n            onMouseEnter={() => setCurrentDetail(c)}\r\n            onClick={() => onIgnore(i)}\r\n          />\r\n        ))}\r\n      </CardsContainer>\r\n    );\r\n  }\r\n);\r\n\r\nexport function StepView({ stepValues, onDone }: StepViewProps) {\r\n  const [currentDetail, setCurrentDetail] = useState<YugiohCard>();\r\n  const [cards, setCards] = useState<CardListCard[]>(() => {\r\n    const cards = stepValues.step1!.cards;\r\n    return _.orderBy(\r\n      cards,\r\n      [(c) => cardTypesSort[c.type] ?? 20, \"name\"],\r\n      [\"asc\", \"asc\"]\r\n    ).map((c) => ({ ...c, ignore: false }));\r\n  });\r\n\r\n  const ydkCount = useMemo(() => {\r\n    const deckCount = cards.filter((c) => !c.ignore && !c.extra).length!;\r\n    const extraCount = cards.filter((c) => !c.ignore && c.extra).length!;\r\n    return Math.max(\r\n      Math.ceil(deckCount / (60 + 15)),\r\n      Math.ceil(extraCount / 15)\r\n    );\r\n  }, [cards]);\r\n\r\n  const handleIgnore = useCallback(\r\n    (index: number) => {\r\n      setCards(\r\n        cards\r\n          .slice()\r\n          .map((c, i) => (index == i ? { ...c, ignore: !c.ignore } : c))\r\n      );\r\n    },\r\n    [cards]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    const mainChunks = _.chunk(\r\n      cards.filter((c) => !c.ignore && !c.extra),\r\n      75\r\n    );\r\n    const extraChunks = _.chunk(\r\n      cards.filter((c) => !c.ignore && c.extra),\r\n      15\r\n    );\r\n    const ydks = _.zip(mainChunks, extraChunks);\r\n\r\n    for (let i = 0; i < ydks.length; i++) {\r\n      const [main, extra] = ydks[i];\r\n      let ydk = \"#created by ArenaDraft\\n#main\\n\";\r\n      main?.slice(0, 60).forEach((c) => (ydk += `${c.id}\\n`));\r\n      ydk += \"#extra\\n\";\r\n      extra?.forEach((c) => (ydk += `${c.id}\\n`));\r\n      ydk += \"!side\\n\";\r\n      main?.slice(60).forEach((c) => (ydk += `${c.id}\\n`));\r\n\r\n      setTimeout(() => downloadFile(ydk, `draft_${i + 1}.ydk`), i * 500);\r\n    }\r\n  }, [cards]);\r\n\r\n  return (\r\n    <>\r\n      <ViewContainer layout>\r\n        <DetailContainer>\r\n          <div className=\"image\">\r\n            {currentDetail && <img src={currentDetail.image} />}\r\n          </div>\r\n        </DetailContainer>\r\n        <CardList\r\n          cards={cards}\r\n          setCurrentDetail={setCurrentDetail}\r\n          onIgnore={handleIgnore}\r\n        />\r\n      </ViewContainer>\r\n      <ButtonsContainer>\r\n        <Button onClick={handleClick}>Download YDKs ({ydkCount})</Button>\r\n      </ButtonsContainer>\r\n    </>\r\n  );\r\n}\r\n","import React, { ComponentType, FC, useState } from \"react\";\nimport styled from \"@emotion/styled/macro\";\nimport { StepWheels, StepWheelsResult } from \"./step-wheels\";\nimport {\n  AnimatePresence,\n  AnimateSharedLayout,\n  motion,\n  Variants,\n} from \"framer-motion\";\nimport { StepPacks, StepPacksResult } from \"./step-packs\";\nimport { StepView } from \"./step-view\";\n\nconst Content = styled(motion.div)({\n  display: \"flex\",\n  height: \"100%\",\n  flexFlow: \"column\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n});\n\nconst Frame = styled(motion.div)({\n  position: \"relative\",\n  width: 1000,\n  padding: \"20px 0\",\n  display: \"flex\",\n  backgroundColor: \"#fff\",\n  flexFlow: \"column\",\n  overflow: \"hidden\",\n});\n\nconst StepsContainer = styled(motion.div)({\n  width: 1000,\n  display: \"flex\",\n  flexFlow: \"row nowrap\",\n  backgroundColor: \"#b2591a\",\n  color: \"#ffffff\",\n  overflow: \"hidden\",\n\n  \".name\": {\n    flex: 1,\n    textAlign: \"center\",\n    fontSize: 16,\n    padding: 5,\n  },\n});\n\ninterface StepsProps {\n  stepName: string;\n}\n\nexport function Steps({ stepName }: StepsProps) {\n  return (\n    <StepsContainer layout>\n      <AnimatePresence exitBeforeEnter={true} initial={false}>\n        <motion.div\n          initial=\"initial\"\n          animate=\"enter\"\n          exit=\"exit\"\n          variants={stepVariants}\n          key={stepName}\n          className=\"name\"\n        >\n          {stepName}\n        </motion.div>\n      </AnimatePresence>\n    </StepsContainer>\n  );\n}\n\nconst stepVariants: Variants = {\n  enter: { opacity: 1 },\n  exit: { x: \"-50%\", opacity: 0 },\n  initial: { opacity: 0 },\n};\n\ninterface StepData<T extends { onDone: any; stepValues?: StepValues }> {\n  name: string;\n  component: ComponentType<T>;\n}\n\nconst steps: StepData<any>[] = [\n  { name: \"Roll Packs\", component: StepWheels },\n  { name: \"Open Packs\", component: StepPacks },\n  { name: \"View Cards\", component: StepView },\n];\nexport interface StepValues {\n  step0?: StepWheelsResult;\n  step1?: StepPacksResult;\n}\n\nexport function App({}: {}) {\n  const [stepValues, setStepValues] = useState<StepValues>({});\n  const [step, setStep] = useState(0);\n\n  return (\n    <AnimateSharedLayout>\n      <Content layout>\n        <Steps stepName={steps[step].name} />\n        <Frame layout>\n          <AnimatePresence exitBeforeEnter={true} initial={false}>\n            {steps.map(\n              ({ component: Component }, i) =>\n                step == i && (\n                  <motion.div\n                    layout\n                    key={\"step\" + 0}\n                    initial=\"initial\"\n                    animate=\"enter\"\n                    exit=\"exit\"\n                    variants={stepVariants}\n                  >\n                    <Component\n                      stepValues={stepValues}\n                      onDone={(result: any) => {\n                        setStepValues(\n                          (v) => ({ v, [\"step\" + i]: result } as any)\n                        );\n                        setStep(i + 1);\n                      }}\n                    />\n                  </motion.div>\n                )\n            )}\n          </AnimatePresence>\n        </Frame>\n      </Content>\n    </AnimateSharedLayout>\n  );\n}\n","import { Dispatch, RefObject, SetStateAction, useRef, useState } from \"react\";\r\n\r\nexport function useStateRef<T>(\r\n  initialValue: T\r\n): [T, Dispatch<SetStateAction<T>>, RefObject<T>] {\r\n  const [value, setValue] = useState<T>(initialValue);\r\n  const valueRef = useRef<T>(initialValue);\r\n\r\n  return [\r\n    value,\r\n    (v: SetStateAction<T>) =>\r\n      setValue((prevValue) => {\r\n        const newValue = typeof v === \"function\" ? (v as any)(prevValue) : v;\r\n        valueRef.current = newValue;\r\n        return newValue;\r\n      }),\r\n    valueRef,\r\n  ];\r\n}\r\n","export const skipStepWheels = false;\r\nexport const skipStepPacks = false;\r\n","export function downloadFile(data: string, name: string) {\r\n  const url = window.URL.createObjectURL(\r\n    new Blob([data], { type: \"text/plain\" })\r\n  );\r\n  const a = document.createElement(\"a\");\r\n  a.style.display = \"none\";\r\n  a.href = url;\r\n  a.download = name;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  window.URL.revokeObjectURL(url);\r\n  setTimeout(() => a.remove(), 0);\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components/app\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}